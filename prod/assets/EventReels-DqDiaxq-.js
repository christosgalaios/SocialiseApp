import{a as o,j as e,m as p,A as b}from"./vendor-motion-fydZXqiE.js";import{f as g,X as N,k,l as v,H as z,m as C,n as S,C as E,M as P,U,P as I,I as R}from"./index-DpvrEB5k.js";import"./vendor-maps-nwIz2Bw_.js";const L=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],M=g("share-2",L);const T=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_=g("upload",T),Y=({images:t,isActive:r})=>{const[d,s]=o.useState(0);return o.useEffect(()=>{if(!r||t.length<=1)return;const n=setInterval(()=>{s(c=>(c+1)%t.length)},3e3);return()=>clearInterval(n)},[r,t.length]),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx(b,{mode:"wait",children:e.jsx(p.img,{src:t[d],className:"w-full h-full object-cover",initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.6},alt:"",onError:()=>{t.length>1&&s(n=>(n+1)%t.length)}},d)}),t.length>1&&e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex gap-1.5 z-10",children:t.map((n,c)=>e.jsx("div",{className:`h-1 rounded-full transition-all duration-300 ${c===d?"w-6 bg-white":"w-1.5 bg-white/40"}`},c))})]})},q=({event:t,isActive:r,onLike:d,isLiked:s,onSelect:n})=>{const[c,m]=o.useState(!1),f=[t.image,t.image?.replace("w=800","w=801"),"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=800&q=80"];return e.jsxs("div",{className:"relative w-full h-full rounded-[32px] overflow-hidden bg-secondary",children:[e.jsx(Y,{images:f,isActive:r}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-black/30 pointer-events-none"}),r&&e.jsx("div",{className:"absolute inset-0 rounded-[32px] border-2 border-primary/50 pointer-events-none"}),e.jsxs("div",{className:"absolute right-4 bottom-32 flex flex-col items-center gap-5 z-10",children:[e.jsxs("button",{onClick:a=>{a.stopPropagation(),d()},className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:`w-11 h-11 rounded-full flex items-center justify-center backdrop-blur-md transition-all ${s?"bg-primary text-white":"bg-white/20 text-white"}`,children:e.jsx(z,{size:20,className:s?"fill-current":""})}),e.jsx("span",{className:"text-[10px] font-bold text-white",children:t.attendees})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1",onClick:a=>{a.stopPropagation(),n()},children:[e.jsx("div",{className:"w-11 h-11 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white",children:e.jsx(C,{size:20})}),e.jsx("span",{className:"text-[10px] font-bold text-white",children:"Chat"})]}),e.jsxs("button",{onClick:a=>{a.stopPropagation(),m(!c)},className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-11 h-11 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white",children:e.jsx(_,{size:20})}),e.jsx("span",{className:"text-[10px] font-bold text-white",children:"Upload"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-11 h-11 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white",children:e.jsx(M,{size:20})}),e.jsx("span",{className:"text-[10px] font-bold text-white",children:"Share"})]})]}),e.jsxs("div",{className:"absolute bottom-6 left-5 right-20 z-10",onClick:a=>{a.stopPropagation(),n()},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-md rounded-full text-[10px] font-black text-white uppercase tracking-widest",children:t.category}),t.tags?.slice(0,1).map(a=>{const x=S.find(u=>u.id===a);return x?e.jsxs("span",{className:"px-2 py-1 bg-white/20 backdrop-blur-md rounded-full text-[9px] font-bold text-white",children:[x.emoji," ",x.label]},a):null})]}),e.jsx("h3",{className:"text-2xl font-black text-white mb-1.5 drop-shadow-lg tracking-tight",children:t.title}),e.jsxs("div",{className:"flex items-center gap-3 text-white/80 text-xs font-bold",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{size:12})," ",t.date]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{size:12})," ",t.location?.split(",")[0]]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(U,{size:12})," ",t.attendees]})]}),e.jsxs("p",{className:"text-white/60 text-xs font-medium mt-2",children:["by ",t.host]})]}),e.jsx(b,{children:c&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-x-4 bottom-40 z-20 bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border border-white/20",onClick:a=>a.stopPropagation(),children:[e.jsx("h4",{className:"font-black text-secondary text-lg mb-4",children:"Share a Moment"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{className:"flex flex-col items-center gap-2 p-4 rounded-2xl bg-primary/10 border border-primary/20 text-primary hover:bg-primary/20 transition-all",children:[e.jsx(I,{size:24}),e.jsx("span",{className:"text-xs font-bold",children:"Upload Video"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-2 p-4 rounded-2xl bg-secondary/10 border border-secondary/20 text-secondary hover:bg-secondary/20 transition-all",children:[e.jsx(R,{size:24}),e.jsx("span",{className:"text-xs font-bold",children:"Upload Photo"})]})]}),e.jsx("button",{onClick:()=>m(!1),className:"w-full mt-3 py-2 text-xs font-bold text-secondary/50",children:"Cancel"})]})}),r&&e.jsxs(p.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"absolute top-4 right-4 px-2.5 py-1 bg-primary/90 rounded-full flex items-center gap-1.5 z-10",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black text-white uppercase tracking-widest",children:"Playing"})]})]})},H=({events:t,onClose:r,onSelectEvent:d})=>{const[s,n]=o.useState(0),[c,m]=o.useState([]),f=o.useRef(null),a=o.useRef(0),x=()=>{s<t.length-1&&n(l=>l+1)},u=()=>{s>0&&n(l=>l-1)},j=l=>{a.current=l.touches[0].clientY},y=l=>{const i=a.current-l.changedTouches[0].clientY;Math.abs(i)>50&&(i>0?x():u())};o.useEffect(()=>{const l=i=>{i.key==="ArrowUp"&&s>0?n(h=>h-1):i.key==="ArrowDown"&&s<t.length-1?n(h=>h+1):i.key==="Escape"&&r()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[s,t.length,r]);const w=l=>{m(i=>i.includes(l)?i.filter(h=>h!==l):[...i,l])};return e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[110] bg-black flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 relative z-20",children:[e.jsx("h2",{className:"text-white font-black text-lg tracking-tight",children:"Reels"}),e.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:e.jsx(N,{size:20})})]}),e.jsxs("div",{ref:f,className:"flex-1 relative overflow-hidden px-4 pb-4",onTouchStart:j,onTouchEnd:y,children:[e.jsx("button",{onClick:u,disabled:s===0,className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 w-10 h-10 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center text-white disabled:opacity-20 transition-opacity",children:e.jsx(k,{size:20})}),e.jsx("button",{onClick:x,disabled:s===t.length-1,className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 w-10 h-10 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center text-white disabled:opacity-20 transition-opacity",children:e.jsx(v,{size:20})}),e.jsx(b,{mode:"wait",children:e.jsx(p.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"w-full h-full",children:t[s]&&e.jsx(q,{event:t[s],isActive:!0,isLiked:c.includes(t[s].id),onLike:()=>w(t[s].id),onSelect:()=>d(t[s])})},s)}),e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex flex-col gap-1 z-10",children:t.slice(0,8).map((l,i)=>e.jsx("div",{className:`w-1 rounded-full transition-all ${i===s?"h-6 bg-primary":"h-2 bg-white/30"}`},i))})]})]})};export{H as default};
