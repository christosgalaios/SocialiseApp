import{j as e,m as l,a as i,A as se}from"./vendor-motion-CtvpaCTF.js";import{n as j,o as xt,a as ae,q as _e,r as fe,s as Pe,l as F,t as v,O as mt,j as u,C as V,U as M,Z as pt,m as ht,T as ut,D as yt,v as gt,w as bt,R as ft,g as Oe,x as Re,P as q,y as je,z as jt,A as Nt,B as vt,X as wt,E as Fe,k as Le,F as kt}from"./index-Bbd_1pDH.js";import{T as B,G as Ct,H as He,S as St}from"./trending-up-Dl3SBlJH.js";import"./vendor-maps-DdmUqcD-.js";const Et=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$t=j("activity",Et);const Mt=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],zt=j("arrow-up-right",Mt);const At=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Dt=j("award",At);const Tt=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_t=j("copy",Tt);const Pt=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ot=j("dollar-sign",Pt);const Rt=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ft=j("download",Rt);const Lt=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ht=j("minus",Lt);const It=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ie=j("pencil",It);const Ut=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Vt=j("repeat",Ut);const qt=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ue=j("square-check-big",qt);const Bt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ve=j("square",Bt);const Gt=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Jt=j("sticky-note",Gt);const Wt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Yt=j("target",Wt);const Kt=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Xt=j("trending-down",Kt);function Zt({value:y}){const[g,d]=i.useState(0),m=i.useRef(null);return i.useEffect(()=>{const N=typeof y=="number"?y:parseInt(y,10);if(isNaN(N)||N===0){d(y);return}const b=600,L=performance.now(),H=G=>{const re=G-L,_=Math.min(re/b,1),ne=1-Math.pow(1-_,3);d(Math.round(N*ne)),_<1&&(m.current=requestAnimationFrame(H))};return m.current=requestAnimationFrame(H),()=>{m.current&&cancelAnimationFrame(m.current)}},[y]),e.jsx(e.Fragment,{children:typeof y=="number"?g:y})}function z({icon:y,value:g,label:d,trend:m,color:N="text-primary",bgColor:b="bg-primary/10",borderColor:L="border-primary/20"}){return e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},transition:{type:"spring",damping:25,stiffness:400},className:"premium-card p-5 relative overflow-hidden group cursor-default",children:[e.jsx("div",{className:"absolute -right-6 -bottom-6 w-24 h-24 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:"radial-gradient(circle, var(--primary) 0%, transparent 70%)",opacity:.05}}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`w-11 h-11 rounded-2xl ${b} flex items-center justify-center border ${L}`,children:y&&e.jsx(y,{size:22,className:N})}),m!=null&&e.jsxs("span",{className:`inline-flex items-center gap-0.5 text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full ${m>0?"text-green-600 bg-green-500/10":m<0?"text-red-500 bg-red-500/10":"text-secondary/40 bg-secondary/5"}`,children:[m>0?e.jsx(B,{size:10}):m<0?e.jsx(Xt,{size:10}):e.jsx(Ht,{size:10}),m>0?"+":"",m,"%"]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(l.span,{className:"text-2xl font-black text-secondary block",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300,delay:.1},children:e.jsx(Zt,{value:g})}),e.jsx("p",{className:"text-[10px] font-bold text-secondary/40 uppercase tracking-widest mt-0.5",children:d})]})]})}const Qt={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},k={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",damping:25,stiffness:400}}},es=y=>{const g=new Date(y);if(isNaN(g.getTime()))return y;const d=new Date,m=new Date(d.getFullYear(),d.getMonth(),d.getDate()),N=new Date(g.getFullYear(),g.getMonth(),g.getDate()),b=Math.round((N-m)/(1e3*60*60*24));return b===0?"Today":b===1?"Tomorrow":b===-1?"Yesterday":b>1&&b<=7?`In ${b} days`:b<-1&&b>=-7?`${Math.abs(b)} days ago`:y};function ns({onSwitchToAttendee:y,onCreateEvent:g}){const d=xt(t=>t.user),m=ae(t=>t.showToast),N=ae(t=>t.setShowOrganiserEditProfile),b=ae(t=>t.organiserDashboardTab),L=ae(t=>t.setOrganiserDashboardTab),H=_e(t=>t.setSelectedEvent),G=_e(t=>t.events),re=fe(t=>t.setSelectedTribe),_=fe(t=>t.setShowTribeDiscovery),ne=fe(t=>t.communities),[p,qe]=i.useState(null),[x,Be]=i.useState([]),[I,Ge]=i.useState([]),[Je,We]=i.useState(!0),[Ne,ve]=i.useState(!1),[P,Ye]=i.useState("upcoming"),[J,Ke]=i.useState(()=>{try{return JSON.parse(localStorage.getItem("socialise_pinned_events")||"[]")}catch{return[]}}),[ie,Xe]=i.useState(()=>{try{return JSON.parse(localStorage.getItem("socialise_event_notes")||"{}")}catch{return{}}}),[W,Y]=i.useState(null),[K,X]=i.useState(""),[A,we]=i.useState(""),[ke,Ze]=i.useState(()=>{try{return JSON.parse(localStorage.getItem("socialise_hidden_widgets")||"[]")}catch{return[]}}),[le,Qe]=i.useState(!1),[Ce,et]=i.useState(()=>{try{return JSON.parse(localStorage.getItem("socialise_event_checklists")||"{}")}catch{return{}}}),[ce,tt]=i.useState(null),[oe,st]=i.useState(!1),[Z,Q]=i.useState(!1),[U,de]=i.useState(""),[xe,me]=i.useState(""),[ee,Se]=i.useState(!1),O=i.useCallback(async(t=!1)=>{try{const s=await Pe.getOrganiserStats();qe(s.stats),Be(s.events),Ge(s.communities),t||m("Dashboard refreshed","success")}catch{t||m("Failed to load organiser stats","error")}},[m]);i.useEffect(()=>{let t=!1;return O(!0).finally(()=>{t||We(!1)}),()=>{t=!0}},[O]);const pe=i.useRef(!1),he=i.useCallback(async()=>{pe.current||(pe.current=!0,ve(!0),F(),v(),await O(!1),pe.current=!1,ve(!1))},[O]),Ee=d?.organiserSocialLinks||{},ue=mt.filter(t=>Ee[t.key]?.trim()),{upcomingEvents:$,pastEvents:te}=i.useMemo(()=>{const t=new Date,s=[],r=[];return x.forEach(a=>{const n=new Date(a.date);n>=t||isNaN(n.getTime())?s.push(a):r.push(a)}),{upcomingEvents:s,pastEvents:r}},[x]),$e=P==="upcoming"?$:te,C=i.useMemo(()=>{if($.length===0)return null;const t=new Date,s=[...$].map(f=>({...f,_date:new Date(f.date)})).filter(f=>!isNaN(f._date.getTime())&&f._date>=t).sort((f,w)=>f._date-w._date);if(s.length===0)return null;const r=s[0],a=r._date-t,n=Math.floor(a/(1e3*60*60*24)),c=Math.floor(a%(1e3*60*60*24)/(1e3*60*60));let h="";return n>0?h=`${n}d ${c}h`:c>0?h=`${c}h`:h="Starting soon",{...r,countdown:h}},[$]),Me=i.useCallback(t=>{Ke(s=>{const r=s.includes(t)?s.filter(a=>a!==t):[...s,t];return localStorage.setItem("socialise_pinned_events",JSON.stringify(r)),r}),u(),v()},[]),ze=i.useCallback(t=>{const s={title:`${t.title} (Copy)`,category:t.category,location:t.location,spots:t.spots,price:t.price,image:t.image,description:t.description};localStorage.setItem("socialise_prefill_event",JSON.stringify(s)),g?.(),m("Event duplicated â€” edit and save","info"),F(),v()},[g,m]),Ae=i.useCallback(t=>{Xe(s=>{const r={...s};return K.trim()?r[t]=K.trim():delete r[t],localStorage.setItem("socialise_event_notes",JSON.stringify(r)),r}),Y(null),X("")},[K]),ye=i.useMemo(()=>{const t=[],s=new Date;for(let a=6;a>=0;a--){const n=new Date(s);n.setDate(n.getDate()-a);const c=n.toISOString().split("T")[0],h=x.filter(w=>w.date?.startsWith(c)),f=h.reduce((w,R)=>w+(R.attendees??0),0);t.push({label:n.toLocaleDateString("en-US",{weekday:"short"}),events:h.length,attendees:f})}const r=Math.max(...t.map(a=>a.attendees),1);return{days:t,maxAttendees:r}},[x]),D=i.useMemo(()=>{let t=$e;if(A.trim()){const a=A.toLowerCase();t=t.filter(n=>n.title?.toLowerCase().includes(a)||n.category?.toLowerCase().includes(a))}const s=t.filter(a=>J.includes(a.id)),r=t.filter(a=>!J.includes(a.id));return[...s,...r]},[$e,J,A]),S=i.useMemo(()=>{if(x.length===0)return null;let t=0,s=0;x.forEach(a=>{const n=parseFloat(a.price);n>0&&(t+=n*(a.attendees??0),s++)});const r=s>0?t/x.reduce((a,n)=>a+(parseFloat(n.price)>0?n.attendees??0:0),0):0;return{totalRevenue:t,paidEvents:s,avgTicket:Math.round(r*100)/100}},[x]),E=i.useMemo(()=>{if(x.length===0)return null;const t=x.reduce((c,h)=>c+(h.attendees??0),0),s=Math.round(t/x.length),r=x.reduce((c,h)=>c+(h.spots??0),0),a=r>0?Math.round(t/r*100):0,n=[...x].sort((c,h)=>(h.attendees??0)-(c.attendees??0))[0];return{avgPerEvent:s,overallFill:a,totalAttendees:t,bestEvent:n}},[x]),De=i.useMemo(()=>{const t=[],s=new Date;return $.forEach(r=>{const a=new Date(r.date),n=Math.ceil((a-s)/(1e3*60*60*24)),c=r.spots>0?r.attendees/r.spots*100:0;n<=3&&n>=0&&c<50?t.push({event:r,type:"low-fill",message:`"${r.title}" is only ${Math.round(c)}% filled and starts in ${n===0?"today":n===1?"tomorrow":`${n} days`}`}):c>=100&&t.push({event:r,type:"sold-out",message:`"${r.title}" is sold out â€” consider adding more spots`})}),t},[$]),at=i.useMemo(()=>{const t=p?.eventsHosted??0,s=p?.totalAttendees??0;return[{label:"First Event",target:1,current:t,icon:V,unlocked:t>=1},{label:"5 Events",target:5,current:t,icon:Yt,unlocked:t>=5},{label:"10 Events",target:10,current:t,icon:Dt,unlocked:t>=10},{label:"50 Attendees",target:50,current:s,icon:M,unlocked:s>=50},{label:"100 Attendees",target:100,current:s,icon:pt,unlocked:s>=100}]},[p]),rt=i.useCallback(()=>{const t=[`Organiser Analytics â€” ${d?.organiserDisplayName||d?.name}`,`Exported: ${new Date().toLocaleDateString()}`,"","PERFORMANCE",`Events Hosted: ${p?.eventsHosted??0}`,`Total Attendees: ${p?.totalAttendees??0}`,`Active Events: ${p?.activeEvents??0}`,`Community Members: ${p?.totalCommunityMembers??0}`,"","EVENTS",...x.map(n=>{const c=n.spots>0?Math.round(n.attendees/n.spots*100):0;return`  ${n.title} â€” ${n.attendees}/${n.spots} (${c}%) â€” ${n.date}`})];S?.paidEvents>0&&t.push("","REVENUE",`Est. Revenue: $${Math.round(S.totalRevenue)}`,`Paid Events: ${S.paidEvents}`,`Avg Ticket: $${S.avgTicket}`);const s=new Blob([t.join(`
`)],{type:"text/plain"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`analytics-${new Date().toISOString().split("T")[0]}.txt`,a.click(),URL.revokeObjectURL(r),m("Analytics exported","success"),F()},[d,p,x,S,m]),nt=i.useCallback(async()=>{if(!(ee||!U.trim())){Se(!0);try{await Pe.createCommunity({name:U.trim(),description:xe.trim()||null,category:d?.organiserCategories?.[0]||"Social"}),ht(),m("Community created!","success"),de(""),me(""),Q(!1),O(!0)}catch(t){m(t.message||"Failed to create community","error")}finally{Se(!1)}}},[ee,U,xe,d,m,O]),it=i.useCallback(t=>{Ze(s=>{const r=s.includes(t)?s.filter(a=>a!==t):[...s,t];return localStorage.setItem("socialise_hidden_widgets",JSON.stringify(r)),r})},[]),T=i.useCallback(t=>!ke.includes(t),[ke]),Te=[{id:"venue",label:"Confirm venue"},{id:"promo",label:"Share on socials"},{id:"remind",label:"Send reminders"},{id:"prep",label:"Prepare materials"}],ge=i.useCallback(t=>Ce[t]||Te.map(s=>({...s,done:!1})),[Ce]),lt=i.useCallback((t,s)=>{et(r=>{const a=r[t]||Te.map(c=>({...c,done:!1})),n={...r,[t]:a.map(c=>c.id===s?{...c,done:!c.done}:c)};return localStorage.setItem("socialise_event_checklists",JSON.stringify(n)),n}),u()},[]),be=i.useCallback(t=>{t.target.tagName==="INPUT"||t.target.tagName==="TEXTAREA"||((t.key==="n"||t.key==="N")&&g?.(),(t.key==="r"||t.key==="R")&&he(),(t.key==="c"||t.key==="C")&&_(!0),(t.key==="e"||t.key==="E")&&N(!0))},[g,he,_,N]);i.useEffect(()=>(document.addEventListener("keydown",be),()=>document.removeEventListener("keydown",be)),[be]);const ct=()=>{const t=new Date().getHours();return t<12?"Good Morning":t<17?"Good Afternoon":"Good Evening"},ot=()=>{const t=p?.eventsHosted??0;return t>=20?{label:"Gold",color:"text-amber-500",bg:"bg-amber-500/10",border:"border-amber-500/20",icon:"ðŸ‘‘"}:t>=5?{label:"Silver",color:"text-slate-400",bg:"bg-slate-400/10",border:"border-slate-400/20",icon:"â­"}:{label:"Bronze",color:"text-orange-600",bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"ðŸŒ±"}};return Je?e.jsxs("div",{className:"space-y-5 animate-pulse",children:[e.jsxs("div",{className:"premium-card p-6 rounded-[24px]",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-secondary/10"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-5 w-36 bg-secondary/10 rounded-full"}),e.jsx("div",{className:"h-3 w-20 bg-secondary/10 rounded-full"})]})]}),e.jsx("div",{className:"h-4 w-full bg-secondary/10 rounded-full mb-2"}),e.jsx("div",{className:"h-4 w-3/4 bg-secondary/10 rounded-full"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[...Array(4)].map((t,s)=>e.jsx("div",{className:"h-[76px] rounded-2xl bg-secondary/10"},s))}),e.jsxs("div",{children:[e.jsx("div",{className:"h-3 w-32 bg-secondary/10 rounded-full mb-3"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[0,1,2,3].map(t=>e.jsxs("div",{className:"premium-card p-5 rounded-[24px]",children:[e.jsx("div",{className:"w-11 h-11 rounded-2xl bg-secondary/10 mb-3"}),e.jsx("div",{className:"h-7 w-12 bg-secondary/10 rounded-full mb-1"}),e.jsx("div",{className:"h-2.5 w-20 bg-secondary/10 rounded-full"})]},t))})]}),e.jsxs("div",{className:"premium-card p-6 rounded-[24px]",children:[e.jsx("div",{className:"h-3 w-24 bg-secondary/10 rounded-full mb-4"}),[0,1,2].map(t=>e.jsxs("div",{className:"flex items-center gap-3 p-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/10 shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-32 bg-secondary/10 rounded-full"}),e.jsx("div",{className:"h-3 w-20 bg-secondary/10 rounded-full"})]})]},t))]})]}):e.jsxs(l.div,{variants:Qt,initial:"hidden",animate:"show",className:"space-y-6",children:[e.jsxs(l.div,{variants:k,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-secondary/40 uppercase tracking-widest mb-0.5",children:"Dashboard"}),e.jsxs("h1",{className:"text-2xl font-black text-secondary tracking-tight",children:[ct(),e.jsx("span",{className:"text-accent",children:","})," ",(d?.organiserDisplayName||d?.name)?.split(" ")[0],e.jsx("span",{className:"text-accent",children:"."})]})]}),p&&(()=>{const t=ot();return e.jsxs(l.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:15,stiffness:300,delay:.3},className:`inline-flex items-center gap-1 px-2.5 py-1 ${t.bg} rounded-full border ${t.border} ${t.color} text-[10px] font-black`,children:[t.icon," ",t.label]})})()]}),T("alerts")&&De.length>0&&e.jsx(l.div,{variants:k,className:"space-y-2",children:De.map((t,s)=>e.jsxs(l.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:s*.1},className:`flex items-center gap-3 p-3 rounded-2xl border ${t.type==="low-fill"?"bg-amber-500/5 border-amber-500/20":"bg-green-500/5 border-green-500/20"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center shrink-0 ${t.type==="low-fill"?"bg-amber-500/10":"bg-green-500/10"}`,children:e.jsx(ut,{size:14,className:t.type==="low-fill"?"text-amber-500":"text-green-600"})}),e.jsx("p",{className:"text-[11px] font-medium text-secondary/70 flex-1",children:t.message}),e.jsx("button",{onClick:()=>{const r=G.find(a=>a.id===t.event.id)||t.event;u(),v(),H(r)},className:"text-[10px] font-bold text-primary hover:underline shrink-0",children:"View"})]},s))}),e.jsxs(l.div,{variants:k,className:"premium-card p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 bg-primary/5 rounded-full blur-3xl"}),d?.organiserCoverPhoto&&e.jsx("div",{className:"-mx-6 -mt-6 mb-4 h-28 overflow-hidden rounded-t-[24px]",children:e.jsx("img",{src:d.organiserCoverPhoto,className:"w-full h-full object-cover",alt:"",loading:"lazy"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-[24px] overflow-hidden border-2 border-primary/20 shadow-lg shrink-0",children:e.jsx("img",{src:d?.avatar||yt,className:"w-full h-full object-cover",alt:"Organiser",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-xl font-black text-secondary truncate",children:d?.organiserDisplayName||d?.name}),d?.organiserVerified&&e.jsx("span",{className:"text-[10px] font-black text-primary bg-primary/10 px-2 py-0.5 rounded-full border border-primary/20",children:"Verified"})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(gt,{size:12,className:"text-accent"}),e.jsx("span",{className:"text-[10px] font-black text-accent uppercase tracking-widest",children:"Organiser"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsx("button",{onClick:()=>{u(),Qe(!le)},className:`w-9 h-9 rounded-xl flex items-center justify-center transition-colors ${le?"bg-primary/10 text-primary":"bg-secondary/5 border border-secondary/10 text-secondary/60 hover:bg-secondary/10"}`,"aria-label":"Dashboard settings",children:e.jsx(bt,{size:14})}),e.jsx("button",{onClick:he,disabled:Ne,className:"w-9 h-9 rounded-xl bg-secondary/5 border border-secondary/10 flex items-center justify-center hover:bg-secondary/10 transition-colors disabled:opacity-50","aria-label":"Refresh dashboard (R)",title:"Refresh (R)",children:e.jsx(ft,{size:14,className:`text-secondary/60 ${Ne?"animate-spin":""}`})}),e.jsx("button",{onClick:()=>{u(),v(),N(!0)},className:"w-9 h-9 rounded-xl bg-secondary/5 border border-secondary/10 flex items-center justify-center hover:bg-secondary/10 transition-colors","aria-label":"Edit organiser profile",children:e.jsx(Ie,{size:14,className:"text-secondary/60"})})]})]}),d?.organiserBio&&e.jsx("p",{className:"text-sm text-secondary/60 font-medium leading-relaxed mb-3",children:d.organiserBio}),d?.organiserCategories?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:d.organiserCategories.map(t=>{const s=Oe.find(a=>a.id===t),r=s?.icon;return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-primary/5 rounded-full border border-primary/10 text-[11px] font-bold text-primary",children:[r&&e.jsx(r,{size:10}),s?.label||t]},t)})}),ue.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:ue.map(t=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-secondary/5 rounded-full border border-secondary/10 text-[11px] font-bold text-secondary/60",children:[e.jsx(Ct,{size:10}),Ee[t.key]]},t.key))}),p&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[$.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-green-500/5 border border-green-500/10 text-[10px] font-bold text-green-600",children:[e.jsx(Re,{size:10}),$.length," upcoming"]}),te.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-secondary/5 border border-secondary/10 text-[10px] font-bold text-secondary/40",children:[e.jsx(He,{size:10}),te.length," past"]}),I.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-secondary/5 border border-secondary/10 text-[10px] font-bold text-secondary/40",children:[e.jsx(M,{size:10}),I.length," communities"]}),(p.totalAttendees??0)>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-primary/5 border border-primary/10 text-[10px] font-bold text-primary",children:[e.jsx(B,{size:10}),p.totalAttendees," total attendees"]})]}),e.jsx("button",{onClick:()=>{u(),y()},className:"text-[10px] font-black text-secondary/40 uppercase tracking-widest hover:text-secondary/60 transition-colors",children:"Switch to attendee view"})]}),e.jsx(se,{children:le&&e.jsx(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"premium-card p-4 space-y-2",children:[e.jsx("h4",{className:"text-[10px] font-black text-secondary/40 uppercase tracking-widest mb-2",children:"Show/Hide Sections"}),[{id:"alerts",label:"Attention Alerts"},{id:"completeness",label:"Profile Completeness"},{id:"milestones",label:"Milestones"},{id:"activity",label:"Weekly Activity"},{id:"countdown",label:"Next Event Countdown"}].map(t=>e.jsxs("button",{onClick:()=>it(t.id),className:"w-full flex items-center gap-2 p-2 rounded-xl hover:bg-secondary/5 transition-colors text-left",children:[T(t.id)?e.jsx(Ue,{size:14,className:"text-primary shrink-0"}):e.jsx(Ve,{size:14,className:"text-secondary/30 shrink-0"}),e.jsx("span",{className:`text-xs font-bold ${T(t.id)?"text-secondary":"text-secondary/40"}`,children:t.label})]},t.id))]})})}),T("completeness")&&(()=>{const t=[{label:"Display name",done:!!d?.organiserDisplayName?.trim()},{label:"Bio",done:!!d?.organiserBio?.trim()},{label:"Categories",done:(d?.organiserCategories?.length??0)>0},{label:"Social links",done:ue.length>0},{label:"First event",done:x.length>0}],s=t.filter(a=>a.done).length,r=Math.round(s/t.length*100);return r>=100?null:e.jsxs(l.div,{variants:k,className:"premium-card p-5 relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["Complete Your Profile",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("span",{className:"text-[10px] font-black text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:[r,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-secondary/10 rounded-full overflow-hidden mb-3",children:e.jsx(l.div,{className:"h-full bg-gradient-to-r from-primary to-accent rounded-full",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.8,ease:"easeOut"}})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(a=>e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-bold border transition-all ${a.done?"bg-green-500/10 border-green-500/20 text-green-600 line-through":"bg-secondary/5 border-secondary/10 text-secondary/50 cursor-pointer hover:border-primary/30"}`,onClick:a.done?void 0:()=>{u(),N(!0)},children:[a.done?"âœ“":"â—‹"," ",a.label]},a.label))})]})})(),e.jsxs(l.div,{variants:k,className:"grid grid-cols-4 gap-2",children:[e.jsxs(l.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>{F(),v(),g?.()},className:"p-3 rounded-2xl bg-gradient-to-br from-primary to-accent text-white font-black text-sm flex flex-col items-center justify-center gap-1.5 shadow-lg relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/0 group-hover:bg-white/10 transition-colors"}),e.jsx(q,{size:20}),e.jsx("span",{className:"text-[10px]",children:"New Event"}),e.jsx("kbd",{className:"hidden md:inline text-[8px] font-mono text-white/50 bg-white/10 px-1 rounded",children:"N"})]}),e.jsxs(l.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>{u(),v(),_(!0)},className:"p-3 rounded-2xl bg-secondary/5 border border-secondary/10 font-bold text-sm text-secondary flex flex-col items-center justify-center gap-1.5 hover:bg-secondary/10 transition-colors",children:[e.jsx(M,{size:20}),e.jsx("span",{className:"text-[10px]",children:"Community"}),e.jsx("kbd",{className:"hidden md:inline text-[8px] font-mono text-secondary/30 bg-secondary/5 px-1 rounded",children:"C"})]}),e.jsxs(l.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>{u(),v(),N(!0)},className:"p-3 rounded-2xl bg-secondary/5 border border-secondary/10 font-bold text-sm text-secondary flex flex-col items-center justify-center gap-1.5 hover:bg-secondary/10 transition-colors",children:[e.jsx(Ie,{size:20}),e.jsx("span",{className:"text-[10px]",children:"Edit"}),e.jsx("kbd",{className:"hidden md:inline text-[8px] font-mono text-secondary/30 bg-secondary/5 px-1 rounded",children:"E"})]}),e.jsxs(l.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>{u(),v();const t=`${window.location.origin}${window.location.pathname}?organiser=${d?.id}`;navigator.clipboard?.writeText(t).then(()=>m("Profile link copied!","success")).catch(()=>m("Could not copy link","error"))},className:"p-3 rounded-2xl bg-secondary/5 border border-secondary/10 font-bold text-sm text-secondary flex flex-col items-center justify-center gap-1.5 hover:bg-secondary/10 transition-colors",children:[e.jsx(St,{size:20}),e.jsx("span",{className:"text-[10px]",children:"Share"})]})]}),e.jsx(l.div,{variants:k,className:"flex gap-1 p-1 bg-secondary/5 rounded-2xl border border-secondary/10",children:[{key:"overview",label:"Overview"},{key:"analytics",label:"Analytics"}].map(t=>e.jsx("button",{onClick:()=>{u(),L(t.key)},className:`flex-1 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${b===t.key?"bg-paper text-primary shadow-sm":"text-secondary/40 hover:text-secondary/60"}`,children:t.label},t.key))}),b==="analytics"?e.jsxs(l.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["Your Performance",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("button",{onClick:rt,className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-secondary/5 border border-secondary/10 text-[10px] font-bold text-secondary/50 hover:text-secondary/70 transition-colors","aria-label":"Export analytics",children:[e.jsx(Ft,{size:10}),"Export"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(z,{icon:V,value:p?.eventsHosted??0,label:"Events Hosted",color:"text-primary",bgColor:"bg-primary/10",borderColor:"border-primary/20"}),e.jsx(z,{icon:M,value:p?.totalAttendees??0,label:"Total Attendees",color:"text-secondary",bgColor:"bg-secondary/10",borderColor:"border-secondary/20"}),e.jsx(z,{icon:B,value:p?.activeEvents??0,label:"Active Events",color:"text-accent",bgColor:"bg-accent/10",borderColor:"border-accent/20"}),e.jsx(z,{icon:je,value:p?.totalCommunityMembers??0,label:"Community Members",color:"text-teal-600",bgColor:"bg-teal-500/10",borderColor:"border-teal-500/20"})]})]}),x.length>0&&(()=>{const t=[...x].sort((r,a)=>{const n=r.spots>0?r.attendees/r.spots:0;return(a.spots>0?a.attendees/a.spots:0)-n})[0],s=t?.spots>0?Math.round(t.attendees/t.spots*100):0;return e.jsxs("div",{className:"premium-card p-5 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 bg-accent/5 rounded-full blur-2xl"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-accent/10 border border-accent/20 flex items-center justify-center",children:e.jsx(B,{size:16,className:"text-accent"})}),e.jsx("h3",{className:"text-xs font-black text-accent uppercase tracking-widest",children:"Top Performer"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-secondary/10 shrink-0",children:t?.image&&e.jsx("img",{src:t.image,className:"w-full h-full object-cover",alt:"",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-black text-secondary truncate",children:t?.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-[11px] font-bold text-accent",children:[s,"% filled"]}),e.jsx("span",{className:"text-secondary/20",children:"|"}),e.jsxs("span",{className:"text-[11px] font-medium text-secondary/50",children:[t?.attendees,"/",t?.spots," spots"]})]})]})]})]})})(),x.length>0&&(()=>{const t={};x.forEach(a=>{const n=a.category||"Other";t[n]=(t[n]||0)+1});const s=Object.entries(t).sort(([,a],[,n])=>n-a),r=x.length;return e.jsxs("div",{className:"premium-card p-6",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest mb-4",children:["Event Categories",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsx("div",{className:"space-y-3",children:s.map(([a,n])=>{const c=Math.round(n/r*100),f=Oe.find(w=>w.id===a)?.icon;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/5 border border-primary/10 flex items-center justify-center shrink-0",children:f?e.jsx(f,{size:14,className:"text-primary"}):e.jsx(V,{size:14,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between mb-0.5",children:[e.jsx("span",{className:"text-[11px] font-bold text-secondary",children:a}),e.jsxs("span",{className:"text-[10px] font-black text-secondary/50",children:[n," event",n!==1?"s":""," (",c,"%)"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx(l.div,{className:"h-full rounded-full bg-primary/60",initial:{width:0},animate:{width:`${c}%`},transition:{duration:.5,ease:"easeOut"}})})]})]},a)})})]})})(),S&&S.paidEvents>0&&e.jsxs("div",{className:"premium-card p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -left-6 -bottom-6 w-24 h-24 bg-green-500/5 rounded-full blur-2xl"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-green-500/10 border border-green-500/20 flex items-center justify-center",children:e.jsx(Ot,{size:16,className:"text-green-600"})}),e.jsx("h3",{className:"text-xs font-black text-green-600 uppercase tracking-widest",children:"Revenue Insights"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs(l.p,{className:"text-xl font-black text-secondary",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300},children:["$",Math.round(S.totalRevenue).toLocaleString()]}),e.jsx("p",{className:"text-[9px] font-bold text-secondary/40 uppercase tracking-widest mt-0.5",children:"Est. Revenue"})]}),e.jsxs("div",{children:[e.jsx(l.p,{className:"text-xl font-black text-secondary",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300,delay:.1},children:S.paidEvents}),e.jsx("p",{className:"text-[9px] font-bold text-secondary/40 uppercase tracking-widest mt-0.5",children:"Paid Events"})]}),e.jsxs("div",{children:[e.jsxs(l.p,{className:"text-xl font-black text-secondary",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300,delay:.2},children:["$",S.avgTicket]}),e.jsx("p",{className:"text-[9px] font-bold text-secondary/40 uppercase tracking-widest mt-0.5",children:"Avg Ticket"})]})]})]}),E&&e.jsxs("div",{className:"premium-card p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 bg-primary/5 rounded-full blur-2xl"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary/10 border border-primary/20 flex items-center justify-center",children:e.jsx(jt,{size:16,className:"text-primary"})}),e.jsx("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:"Audience Insights"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{size:14,className:"text-secondary/40"}),e.jsx("span",{className:"text-[11px] font-bold text-secondary",children:"Avg. per event"})]}),e.jsxs("span",{className:"text-sm font-black text-primary",children:[E.avgPerEvent," attendees"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{size:14,className:"text-secondary/40"}),e.jsx("span",{className:"text-[11px] font-bold text-secondary",children:"Overall fill rate"})]}),e.jsxs("span",{className:`text-sm font-black ${E.overallFill>=70?"text-accent":"text-primary"}`,children:[E.overallFill,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vt,{size:14,className:"text-secondary/40"}),e.jsx("span",{className:"text-[11px] font-bold text-secondary",children:"Total reach"})]}),e.jsxs("span",{className:"text-sm font-black text-secondary",children:[E.totalAttendees," people"]})]}),E.bestEvent&&e.jsxs("div",{className:"pt-3 mt-3 border-t border-secondary/10",children:[e.jsx("p",{className:"text-[9px] font-black text-accent uppercase tracking-widest mb-1.5",children:"Most Popular Event"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden bg-secondary/10 shrink-0",children:E.bestEvent.image&&e.jsx("img",{src:E.bestEvent.image,className:"w-full h-full object-cover",alt:"",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold text-secondary truncate",children:E.bestEvent.title}),e.jsxs("p",{className:"text-[10px] text-secondary/40",children:[E.bestEvent.attendees," attendees"]})]})]})]})]})]}),x.length>0?e.jsxs("div",{className:"premium-card p-6",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest mb-4",children:["Event Fill Rates",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsx("div",{className:"space-y-3",children:x.slice(0,6).map(t=>{const s=t.spots>0?Math.round(t.attendees/t.spots*100):0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[11px] font-bold text-secondary truncate max-w-[60%]",children:t.title}),e.jsxs("span",{className:`text-[11px] font-black ${s>=80?"text-accent":s>=50?"text-primary":"text-secondary/50"}`,children:[s,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx(l.div,{className:`h-full rounded-full ${s>=80?"bg-accent":s>=50?"bg-primary":"bg-secondary/30"}`,initial:{width:0},animate:{width:`${Math.min(s,100)}%`},transition:{duration:.6,ease:"easeOut",delay:.1}})})]},t.id)})}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-secondary/10 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-bold text-secondary/40",children:"Average fill rate"}),e.jsxs("span",{className:"text-sm font-black text-primary",children:[Math.round(x.reduce((t,s)=>t+(s.spots>0?s.attendees/s.spots*100:0),0)/Math.max(x.length,1)),"%"]})]})]}):e.jsxs("div",{className:"premium-card p-8 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-8 -top-8 w-32 h-32 bg-accent/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -left-8 -bottom-8 w-32 h-32 bg-primary/5 rounded-full blur-3xl"}),e.jsx(l.div,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},transition:{type:"spring",damping:15,stiffness:200},className:"w-20 h-20 mx-auto mb-4 rounded-[24px] bg-gradient-to-br from-accent/10 to-primary/10 border border-accent/10 flex items-center justify-center",children:e.jsx(Nt,{size:32,className:"text-accent/50"})}),e.jsx("h4",{className:"text-base font-black text-secondary mb-1",children:"Your Analytics Await"}),e.jsx("p",{className:"text-[11px] text-secondary/40 max-w-[240px] mx-auto mb-2",children:"Create your first event and watch your dashboard come to life with real-time insights"}),e.jsx("div",{className:"flex justify-center gap-4 mb-5",children:["Fill rates","Revenue","Audience"].map((t,s)=>e.jsx(l.span,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.3+s*.1},className:"text-[9px] font-bold text-primary/50 bg-primary/5 px-2 py-0.5 rounded-full",children:t},t))}),e.jsxs("button",{onClick:()=>{F(),v(),g?.()},className:"inline-flex items-center gap-1.5 px-5 py-2.5 rounded-xl bg-gradient-to-r from-primary to-accent text-white text-xs font-bold active:scale-95 transition-transform shadow-lg",children:[e.jsx(q,{size:14}),"Create Your First Event"]})]})]},"analytics"):e.jsxs(e.Fragment,{children:[T("countdown")&&C&&(()=>{const t=C.spots>0?Math.round(C.attendees/C.spots*100):0;return e.jsxs(l.div,{variants:k,className:"premium-card p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -top-4 w-20 h-20 bg-green-500/5 rounded-full blur-2xl"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl overflow-hidden bg-secondary/10 shrink-0 relative",children:C.image&&e.jsx("img",{src:C.image,className:"w-full h-full object-cover",alt:"",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[9px] font-black text-green-600 uppercase tracking-widest mb-0.5",children:"Next Event"}),e.jsx("p",{className:"text-sm font-bold text-secondary truncate",children:C.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:`text-[10px] font-bold ${t>=80?"text-accent":"text-primary"}`,children:[C.attendees,"/",C.spots," spots"]}),e.jsx("div",{className:"flex-1 max-w-[80px] h-1 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx(l.div,{className:`h-full rounded-full ${t>=100?"bg-red-500":t>=80?"bg-accent":"bg-primary/60"}`,initial:{width:0},animate:{width:`${Math.min(t,100)}%`},transition:{duration:.5,ease:"easeOut",delay:.3}})})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx(l.p,{className:"text-lg font-black text-primary leading-tight",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:15,stiffness:300,delay:.2},children:C.countdown}),e.jsx("p",{className:"text-[9px] font-bold text-secondary/40 uppercase tracking-widest",children:"until start"})]})]})]})})(),T("activity")&&x.length>0&&e.jsxs(l.div,{variants:k,className:"premium-card p-5 relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary/10 border border-primary/20 flex items-center justify-center",children:e.jsx($t,{size:16,className:"text-primary"})}),e.jsx("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:"This Week"})]}),e.jsx("div",{className:"flex items-end justify-between gap-1 h-16",children:ye.days.map((t,s)=>e.jsx("div",{className:"flex-1 flex flex-col items-center gap-1",children:e.jsx(l.div,{className:"w-full rounded-t-lg bg-primary/60",style:{minHeight:2},initial:{height:0},animate:{height:`${Math.max(t.attendees/ye.maxAttendees*100,5)}%`},transition:{duration:.4,ease:"easeOut",delay:s*.05},title:`${t.attendees} attendees, ${t.events} event${t.events!==1?"s":""}`})},s))}),e.jsx("div",{className:"flex justify-between mt-1.5",children:ye.days.map((t,s)=>e.jsx("span",{className:"flex-1 text-center text-[8px] font-bold text-secondary/30 uppercase",children:t.label},s))})]}),T("milestones")&&e.jsxs(l.div,{variants:k,className:"premium-card p-5",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest mb-3",children:["Milestones",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:at.map(t=>{const s=Math.min(Math.round(t.current/t.target*100),100);return e.jsxs("div",{className:`shrink-0 w-24 p-3 rounded-2xl border text-center transition-all ${t.unlocked?"bg-accent/5 border-accent/20":"bg-secondary/5 border-secondary/10"}`,children:[e.jsx("div",{className:`w-10 h-10 mx-auto rounded-xl flex items-center justify-center mb-2 ${t.unlocked?"bg-accent/10":"bg-secondary/10"}`,children:e.jsx(t.icon,{size:18,className:t.unlocked?"text-accent":"text-secondary/30"})}),e.jsx("p",{className:`text-[9px] font-black uppercase tracking-widest mb-1 ${t.unlocked?"text-accent":"text-secondary/40"}`,children:t.label}),!t.unlocked&&e.jsx("div",{className:"w-full h-1 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary/40 rounded-full",style:{width:`${s}%`}})}),t.unlocked&&e.jsx("p",{className:"text-[8px] font-bold text-accent",children:"Unlocked"})]},t.label)})})]}),e.jsxs(l.div,{variants:k,children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest mb-3",children:["Your Performance",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(z,{icon:V,value:p?.eventsHosted??0,label:"Events Hosted",color:"text-primary",bgColor:"bg-primary/10",borderColor:"border-primary/20"}),e.jsx(z,{icon:M,value:p?.totalAttendees??0,label:"Total Attendees",color:"text-secondary",bgColor:"bg-secondary/10",borderColor:"border-secondary/20"}),e.jsx(z,{icon:B,value:p?.activeEvents??0,label:"Active Events",color:"text-accent",bgColor:"bg-accent/10",borderColor:"border-accent/20"}),e.jsx(z,{icon:je,value:p?.totalCommunityMembers??0,label:"Community Members",color:"text-teal-600",bgColor:"bg-teal-500/10",borderColor:"border-teal-500/20"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(l.div,{variants:k,className:"premium-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["My Events",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("span",{className:"text-[9px] font-bold text-secondary/30 uppercase tracking-widest",children:[x.length," total"]})]}),x.length>0&&e.jsx("div",{className:"flex gap-2 mb-4",children:[{key:"upcoming",label:"Upcoming",icon:Re,count:$.length},{key:"past",label:"Past",icon:He,count:te.length}].map(t=>e.jsxs("button",{onClick:()=>{u(),Ye(t.key)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-[11px] font-bold transition-all ${P===t.key?"bg-primary/10 text-primary border border-primary/20":"bg-secondary/5 text-secondary/50 border border-secondary/10 hover:bg-secondary/10"}`,children:[e.jsx(t.icon,{size:12}),t.label,e.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full font-black ${P===t.key?"bg-primary/20 text-primary":"bg-secondary/10 text-secondary/40"}`,children:t.count})]},t.key))}),x.length>3&&e.jsxs("div",{className:"relative mb-3",children:[e.jsx(vt,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-secondary/30"}),e.jsx("input",{type:"text",value:A,onChange:t=>we(t.target.value),placeholder:"Search events...",className:`w-full pl-9 py-2 rounded-xl bg-secondary/5 border border-secondary/10 text-xs text-[var(--text)] placeholder:text-secondary/30 outline-none focus:border-primary/30 transition-colors ${A?"pr-8":"pr-3"}`}),A&&e.jsx("button",{onClick:()=>we(""),className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-secondary/10 flex items-center justify-center hover:bg-secondary/20 transition-colors","aria-label":"Clear search",children:e.jsx(wt,{size:10,className:"text-secondary/50"})}),A.trim()&&e.jsxs("p",{className:"text-[9px] font-bold text-secondary/30 mt-1",children:[D.length," result",D.length!==1?"s":""]})]}),x.length===0?e.jsxs("div",{className:"text-center py-8 relative",children:[e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:15,stiffness:200},className:"w-16 h-16 mx-auto mb-3 rounded-[20px] bg-gradient-to-br from-primary/10 to-accent/10 border border-primary/10 flex items-center justify-center",children:e.jsx(V,{size:28,className:"text-primary/40"})}),e.jsx("p",{className:"text-sm text-secondary/50 font-bold mb-1",children:"No events yet"}),e.jsx("p",{className:"text-[11px] text-secondary/30 mb-4 max-w-[200px] mx-auto",children:"Create your first event and start building your audience"}),e.jsxs("button",{onClick:()=>{F(),v(),g?.()},className:"inline-flex items-center gap-1.5 px-4 py-2.5 rounded-xl bg-primary/10 border border-primary/20 text-primary text-xs font-bold hover:bg-primary/20 transition-colors",children:[e.jsx(q,{size:14}),"Create Event"]})]}):D.length===0?e.jsx("div",{className:"text-center py-6",children:e.jsxs("p",{className:"text-sm text-secondary/40 font-medium",children:["No ",P," events"]})}):e.jsx(se,{mode:"wait",children:e.jsxs(l.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:"space-y-3",children:[(oe?D:D.slice(0,5)).map((t,s)=>{const r=t.spots>0?Math.round(t.attendees/t.spots*100):0,a=G.find(o=>o.id===t.id)||t,n=es(t.date),c=n==="Today",h=r>=100,f=r>=80&&!h,w=J.includes(t.id),R=ie[t.id];return e.jsxs(l.div,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},transition:{duration:.2,delay:s*.04},className:"space-y-1",children:[e.jsxs("button",{onClick:()=>{u(),v(),H(a)},className:`w-full flex items-center gap-3 p-3 rounded-2xl border hover:bg-secondary/10 transition-colors text-left ${w?"bg-accent/5 border-accent/20":"bg-secondary/5 border-secondary/10"}`,children:[e.jsxs("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-secondary/10 shrink-0 relative",children:[t.image&&e.jsx("img",{src:t.image,className:"w-full h-full object-cover",alt:"",loading:"lazy"}),c&&e.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-paper animate-pulse"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[w&&e.jsx(Fe,{size:10,className:"text-accent shrink-0"}),e.jsx("p",{className:"text-sm font-bold text-secondary truncate",children:t.title}),h&&e.jsx("span",{className:"shrink-0 text-[8px] font-black text-red-600 bg-red-500/10 px-1.5 py-0.5 rounded-full border border-red-500/20 uppercase",children:"Sold Out"}),f&&e.jsx("span",{className:"shrink-0 text-[8px] font-black text-accent bg-accent/10 px-1.5 py-0.5 rounded-full border border-accent/20 uppercase",children:"Almost Full"}),c&&e.jsx("span",{className:"shrink-0 text-[8px] font-black text-green-600 bg-green-500/10 px-1.5 py-0.5 rounded-full border border-green-500/20 uppercase",children:"Live"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:`text-[10px] font-medium ${n==="Today"?"text-green-600 font-bold":n==="Tomorrow"?"text-primary font-bold":"text-secondary/40"}`,children:n}),t.time&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[10px] text-secondary/20",children:"Â·"}),e.jsx("span",{className:"text-[10px] text-secondary/40 font-medium",children:t.time})]}),e.jsx("span",{className:"text-[10px] text-secondary/20",children:"Â·"}),e.jsxs("span",{className:`text-[10px] font-bold ${r>=80?"text-accent":"text-primary"}`,children:[e.jsx(M,{size:10,className:"inline mr-0.5"}),t.attendees,"/",t.spots]}),parseFloat(t.price)>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[10px] text-secondary/20",children:"Â·"}),e.jsxs("span",{className:"text-[10px] font-bold text-green-600",children:["$",t.price]})]})]}),e.jsx("div",{className:"w-full h-1 bg-secondary/10 rounded-full mt-1.5 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${h?"bg-red-500":r>=80?"bg-accent":"bg-primary/60"}`,style:{width:`${Math.min(r,100)}%`}})})]}),e.jsxs("div",{className:"flex flex-col gap-1 shrink-0",children:[e.jsx("div",{role:"button",tabIndex:0,onClick:o=>{o.stopPropagation(),Me(t.id)},onKeyDown:o=>{o.key==="Enter"&&(o.stopPropagation(),Me(t.id))},className:`w-7 h-7 rounded-lg flex items-center justify-center transition-colors ${w?"bg-accent/10 text-accent":"text-secondary/20 hover:text-secondary/40"}`,"aria-label":w?"Unpin event":"Pin event",children:e.jsx(Fe,{size:12})}),e.jsx("div",{role:"button",tabIndex:0,onClick:o=>{o.stopPropagation(),ze(t)},onKeyDown:o=>{o.key==="Enter"&&(o.stopPropagation(),ze(t))},className:"w-7 h-7 rounded-lg flex items-center justify-center text-secondary/20 hover:text-secondary/40 transition-colors","aria-label":"Duplicate event",children:e.jsx(_t,{size:12})}),e.jsx("div",{role:"button",tabIndex:0,onClick:o=>{o.stopPropagation(),Y(W===t.id?null:t.id),X(ie[t.id]||"")},onKeyDown:o=>{o.key==="Enter"&&(o.stopPropagation(),Y(W===t.id?null:t.id),X(ie[t.id]||""))},className:`w-7 h-7 rounded-lg flex items-center justify-center transition-colors ${R?"bg-primary/10 text-primary":"text-secondary/20 hover:text-secondary/40"}`,"aria-label":R?"Edit note":"Add note",children:e.jsx(Jt,{size:12})})]}),e.jsx(Le,{size:16,className:"text-secondary/30 shrink-0"})]}),R&&W!==t.id&&e.jsx("div",{className:"ml-15 pl-3 border-l-2 border-primary/20",children:e.jsx("p",{className:"text-[10px] text-secondary/50 italic",children:R})}),W===t.id&&e.jsxs("div",{className:"ml-3 flex gap-2 items-center",onClick:o=>o.stopPropagation(),children:[e.jsx("input",{type:"text",value:K,onChange:o=>X(o.target.value),onKeyDown:o=>{o.key==="Enter"&&Ae(t.id),o.key==="Escape"&&Y(null)},placeholder:"Add a quick note...",className:"flex-1 text-xs px-3 py-2 rounded-xl bg-secondary/5 border border-secondary/10 text-[var(--text)] placeholder:text-secondary/30 outline-none focus:border-primary/30",autoFocus:!0}),e.jsx("button",{onClick:()=>Ae(t.id),className:"px-3 py-2 rounded-xl bg-primary/10 text-primary text-[10px] font-bold hover:bg-primary/20 transition-colors",children:"Save"})]}),P==="upcoming"&&e.jsxs("div",{className:"ml-3",children:[e.jsxs("button",{onClick:o=>{o.stopPropagation(),tt(ce===t.id?null:t.id),u()},className:"flex items-center gap-1 text-[10px] font-bold text-secondary/40 hover:text-secondary/60 transition-colors",children:[e.jsx(kt,{size:10,className:`transition-transform ${ce===t.id?"rotate-180":""}`}),"Pre-event checklist (",ge(t.id).filter(o=>o.done).length,"/",ge(t.id).length,")"]}),e.jsx(se,{children:ce===t.id&&e.jsx(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden mt-1.5 space-y-1",children:ge(t.id).map(o=>e.jsxs("button",{onClick:dt=>{dt.stopPropagation(),lt(t.id,o.id)},className:"w-full flex items-center gap-2 p-1.5 rounded-lg hover:bg-secondary/5 transition-colors text-left",children:[o.done?e.jsx(Ue,{size:12,className:"text-green-600 shrink-0"}):e.jsx(Ve,{size:12,className:"text-secondary/30 shrink-0"}),e.jsx("span",{className:`text-[11px] font-medium ${o.done?"text-secondary/40 line-through":"text-secondary/70"}`,children:o.label})]},o.id))})})]})]},t.id)}),D.length>5&&e.jsx("button",{onClick:()=>{u(),st(!oe)},className:"w-full py-2 text-[10px] text-center text-primary/70 font-bold hover:text-primary transition-colors",children:oe?"Show less":`View all ${D.length} events`})]},P)})]}),e.jsxs(l.div,{variants:k,className:"premium-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["My Communities",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-[9px] font-bold text-secondary/30 uppercase tracking-widest",children:[I.length," communities"]}),e.jsx("button",{onClick:()=>{u(),Q(!Z)},className:`w-7 h-7 rounded-lg flex items-center justify-center transition-colors ${Z?"bg-primary/10 text-primary":"bg-secondary/5 border border-secondary/10 text-secondary/40 hover:text-secondary/60"}`,"aria-label":"Create community",children:e.jsx(q,{size:14})})]})]}),e.jsx(se,{children:Z&&e.jsx(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden mb-4",children:e.jsxs("div",{className:"p-4 rounded-2xl bg-primary/5 border border-primary/10 space-y-3",children:[e.jsx("p",{className:"text-[10px] font-black text-primary uppercase tracking-widest",children:"Quick Create"}),e.jsx("input",{type:"text",value:U,onChange:t=>de(t.target.value),placeholder:"Community name...",className:"w-full px-3 py-2.5 rounded-xl bg-paper border border-secondary/20 text-sm font-medium text-[var(--text)] placeholder:text-secondary/30 outline-none focus:border-primary transition-colors",maxLength:50}),e.jsx("input",{type:"text",value:xe,onChange:t=>me(t.target.value),placeholder:"Short description (optional)...",className:"w-full px-3 py-2 rounded-xl bg-paper border border-secondary/20 text-xs font-medium text-[var(--text)] placeholder:text-secondary/30 outline-none focus:border-primary transition-colors",maxLength:200}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:nt,disabled:!U.trim()||ee,className:"flex-1 py-2.5 rounded-xl bg-gradient-to-r from-primary to-accent text-white text-xs font-black uppercase tracking-widest disabled:opacity-50 transition-all active:scale-[0.98]",children:ee?"Creating...":"Create"}),e.jsx("button",{onClick:()=>{Q(!1),de(""),me("")},className:"px-4 py-2.5 rounded-xl bg-secondary/5 border border-secondary/10 text-xs font-bold text-secondary/50 hover:text-secondary/70 transition-colors",children:"Cancel"})]})]})})}),I.length===0&&!Z?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-[20px] bg-secondary/5 border border-secondary/10 flex items-center justify-center",children:e.jsx(M,{size:28,className:"text-secondary/30"})}),e.jsx("p",{className:"text-sm text-secondary/50 font-bold mb-1",children:"No communities yet"}),e.jsx("p",{className:"text-[11px] text-secondary/30 max-w-[200px] mx-auto mb-4",children:"Build your tribe by creating a community around your events"}),e.jsxs("button",{onClick:()=>{u(),Q(!0)},className:"inline-flex items-center gap-1 px-4 py-2 rounded-xl bg-primary/10 border border-primary/20 text-primary text-xs font-bold hover:bg-primary/20 transition-colors",children:[e.jsx(q,{size:14}),"Create Community"]})]}):e.jsx("div",{className:"space-y-3",children:I.map((t,s)=>{const r=ne.find(h=>h.id===t.id)||t,a=t.members??0,n=a>=100?"Large":a>=20?"Growing":a>0?"Starting":"New",c=a>=100?"text-accent":a>=20?"text-green-600":"text-secondary/40";return e.jsxs(l.button,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{duration:.2,delay:s*.05},onClick:()=>{u(),v(),re(r)},className:"w-full flex items-center gap-3 p-3 rounded-2xl bg-secondary/5 border border-secondary/10 hover:bg-secondary/10 transition-colors text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden bg-secondary/10 shrink-0 flex items-center justify-center text-lg",children:t.avatar||"ðŸ˜ï¸"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-secondary truncate",children:t.name}),t.description&&e.jsx("p",{className:"text-[10px] text-secondary/40 truncate mt-0.5",children:t.description}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsxs("span",{className:"text-[10px] text-secondary/40 font-medium",children:[a," members"]}),e.jsxs("span",{className:`inline-flex items-center gap-0.5 text-[9px] font-bold ${c} bg-current/10 px-1.5 py-0.5 rounded-full`,children:[e.jsx(zt,{size:8}),n]}),t.category&&e.jsx("span",{className:"text-[9px] font-bold text-primary/50 bg-primary/5 px-1.5 py-0.5 rounded-full",children:t.category})]}),e.jsx("div",{className:"w-full h-1 bg-secondary/10 rounded-full mt-1.5 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${a>=100?"bg-accent":a>=20?"bg-green-500/60":"bg-primary/40"}`,style:{width:`${Math.min(a/100*100,100)}%`}})})]}),e.jsx(Le,{size:16,className:"text-secondary/30 shrink-0"})]},t.id)})})]})]})]})]})}export{ns as default};
