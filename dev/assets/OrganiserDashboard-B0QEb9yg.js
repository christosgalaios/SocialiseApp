import{j as e,m as r,a as l,A as G}from"./vendor-motion-CtvpaCTF.js";import{n as j,o as wt,a as le,q as Be,r as Ne,s as qe,l as U,t as v,O as kt,j as h,C as J,U as _,Z as We,m as Ct,T as $t,X as Ge,D as Et,v as Je,R as St,g as Ye,w as we,P as V,h as zt,x as ke,y as Mt,k as Ce,z as At,A as Tt,B as Ke,E as Dt}from"./index-CHSGdoHa.js";import{T as Y,G as _t,H as $e,S as Ot}from"./trending-up-D6-jRIpZ.js";import"./vendor-maps-DdmUqcD-.js";const Pt=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Rt=j("activity",Pt);const It=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ft=j("arrow-up-right",It);const Ht=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Lt=j("award",Ht);const Ut=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vt=j("copy",Ut);const Bt=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qt=j("dollar-sign",Bt);const Wt=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Gt=j("download",Wt);const Jt=[["path",{d:"M5 12h14",key:"1ays0h"}]],Yt=j("minus",Jt);const Kt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Xe=j("pencil",Kt);const Xt=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Zt=j("repeat",Xt);const Qt=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ze=j("square-check-big",Qt);const es=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Qe=j("square",es);const ts=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],et=j("sticky-note",ts);const ss=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],as=j("target",ss);const ns=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],rs=j("trending-down",ns);function is({value:b}){const[g,d]=l.useState(0),m=l.useRef(null);return l.useEffect(()=>{const N=typeof b=="number"?b:parseInt(b,10);if(isNaN(N)||N===0){d(b);return}const y=600,B=performance.now(),F=q=>{const oe=q-B,H=Math.min(oe/y,1),ce=1-Math.pow(1-H,3);d(Math.round(N*ce)),H<1&&(m.current=requestAnimationFrame(F))};return m.current=requestAnimationFrame(F),()=>{m.current&&cancelAnimationFrame(m.current)}},[b]),e.jsx(e.Fragment,{children:typeof b=="number"?g:b})}function O({icon:b,value:g,label:d,trend:m,color:N="text-primary",bgColor:y="bg-primary/10",borderColor:B="border-primary/20"}){return e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-3},whileTap:{scale:.98},transition:{type:"spring",damping:25,stiffness:400},className:"premium-card p-5 relative overflow-hidden group cursor-default will-change-transform [backface-visibility:hidden]",style:{contain:"layout style"},children:[e.jsx("div",{className:"absolute -right-6 -bottom-6 w-24 h-24 rounded-full opacity-0 group-hover:opacity-[0.08] transition-opacity duration-300",style:{background:"radial-gradient(circle, var(--primary) 0%, transparent 70%)"},"aria-hidden":"true"}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`w-11 h-11 rounded-2xl ${y} flex items-center justify-center border ${B} group-hover:scale-110 transition-transform duration-200`,children:b&&e.jsx(b,{size:22,className:`${N} group-hover:rotate-[-8deg] transition-transform duration-200`})}),m!=null&&e.jsxs("span",{className:`inline-flex items-center gap-0.5 text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full transition-all duration-200 group-hover:scale-105 ${m>0?"text-green-600 bg-green-500/10":m<0?"text-red-500 bg-red-500/10":"text-secondary/40 bg-secondary/5"}`,children:[m>0?e.jsx(Y,{size:10}):m<0?e.jsx(rs,{size:10}):e.jsx(Yt,{size:10}),m>0?"+":"",m,"%"]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r.span,{className:"text-2xl font-black text-secondary block group-hover:text-primary transition-colors duration-200 select-text tabular-nums",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300,delay:.1},children:e.jsx(is,{value:g})}),e.jsx("p",{className:"text-[10px] font-bold text-secondary/40 uppercase tracking-widest mt-0.5 group-hover:text-secondary/60 transition-colors duration-200",children:d})]})]})}const ls={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},E={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",damping:25,stiffness:400}}},os=b=>{const g=new Date(b);if(isNaN(g.getTime()))return b;const d=new Date,m=new Date(d.getFullYear(),d.getMonth(),d.getDate()),N=new Date(g.getFullYear(),g.getMonth(),g.getDate()),y=Math.round((N-m)/(1e3*60*60*24));return y===0?"Today":y===1?"Tomorrow":y===-1?"Yesterday":y>1&&y<=7?`In ${y} days`:y<-1&&y>=-7?`${Math.abs(y)} days ago`:b};function us({onSwitchToAttendee:b,onCreateEvent:g}){const d=wt(t=>t.user),m=le(t=>t.showToast),N=le(t=>t.setShowOrganiserEditProfile),y=le(t=>t.organiserDashboardTab),B=le(t=>t.setOrganiserDashboardTab),F=Be(t=>t.setSelectedEvent),q=Be(t=>t.events),oe=Ne(t=>t.setSelectedTribe),H=Ne(t=>t.setShowTribeDiscovery),ce=Ne(t=>t.communities),[u,tt]=l.useState(null),[c,st]=l.useState([]),[P,at]=l.useState([]),[nt,rt]=l.useState(!0),[Ee,Se]=l.useState(!1),[A,it]=l.useState("upcoming"),[K,lt]=l.useState(()=>{try{return JSON.parse(localStorage.getItem("socialise_pinned_events")||"[]")}catch{return[]}}),[de,ot]=l.useState(()=>{try{return JSON.parse(localStorage.getItem("socialise_event_notes")||"{}")}catch{return{}}}),[X,Z]=l.useState(null),[Q,ee]=l.useState(""),[T,ze]=l.useState(""),[Me,ct]=l.useState(()=>{try{return JSON.parse(localStorage.getItem("socialise_hidden_widgets")||"[]")}catch{return[]}}),[xe,dt]=l.useState(!1),[Ae,xt]=l.useState(()=>{try{return JSON.parse(localStorage.getItem("socialise_event_checklists")||"{}")}catch{return{}}}),[me,mt]=l.useState(null),[te,ut]=l.useState(!1),[se,ae]=l.useState(!1),[W,ue]=l.useState(""),[pe,he]=l.useState(""),[ne,Te]=l.useState(!1),[ye,De]=l.useState(!1),[pt,ht]=l.useState([]),L=l.useCallback(async(t=!1)=>{try{const s=await qe.getOrganiserStats();tt(s.stats),st(s.events),at(s.communities),t||m("Dashboard refreshed","success")}catch{t||m("Failed to load organiser stats","error")}},[m]);l.useEffect(()=>{let t=!1;return L(!0).finally(()=>{t||rt(!1)}),()=>{t=!0}},[L]);const be=l.useRef(!1),ge=l.useCallback(async()=>{be.current||(be.current=!0,Se(!0),U(),v(),await L(!1),be.current=!1,Se(!1))},[L]),_e=d?.organiserSocialLinks||{},fe=kt.filter(t=>_e[t.key]?.trim()),{upcomingEvents:S,pastEvents:re}=l.useMemo(()=>{const t=new Date,s=[],a=[];return c.forEach(n=>{const i=new Date(n.date);i>=t||isNaN(i.getTime())?s.push(n):a.push(n)}),{upcomingEvents:s,pastEvents:a}},[c]),Oe=A==="upcoming"?S:re,C=l.useMemo(()=>{if(S.length===0)return null;const t=new Date,s=[...S].map($=>({...$,_date:new Date($.date)})).filter($=>!isNaN($._date.getTime())&&$._date>=t).sort(($,k)=>$._date-k._date);if(s.length===0)return null;const a=s[0],n=a._date-t,i=Math.floor(n/(1e3*60*60*24)),o=Math.floor(n%(1e3*60*60*24)/(1e3*60*60));let p="";return i>0?p=`${i}d ${o}h`:o>0?p=`${o}h`:p="Starting soon",{...a,countdown:p}},[S]),Pe=l.useCallback(t=>{lt(s=>{const a=s.includes(t)?s.filter(n=>n!==t):[...s,t];return localStorage.setItem("socialise_pinned_events",JSON.stringify(a)),a}),h(),v()},[]),Re=l.useCallback(t=>{const s={title:`${t.title} (Copy)`,category:t.category,location:t.location,spots:t.spots,price:t.price,image:t.image,description:t.description};localStorage.setItem("socialise_prefill_event",JSON.stringify(s)),g?.(),m("Event duplicated â€” edit and save","info"),U(),v()},[g,m]),Ie=l.useCallback(t=>{ot(s=>{const a={...s};return Q.trim()?a[t]=Q.trim():delete a[t],localStorage.setItem("socialise_event_notes",JSON.stringify(a)),a}),Z(null),ee("")},[Q]),R=l.useMemo(()=>{const t=[],s=new Date;for(let n=6;n>=0;n--){const i=new Date(s);i.setDate(i.getDate()-n);const o=i.toISOString().split("T")[0],p=c.filter(k=>k.date?.startsWith(o)),$=p.reduce((k,z)=>k+(z.attendees??0),0);t.push({label:i.toLocaleDateString("en-US",{weekday:"short"}),events:p.length,attendees:$})}const a=Math.max(...t.map(n=>n.attendees),1);return{days:t,maxAttendees:a}},[c]),I=l.useMemo(()=>{let t=Oe;if(T.trim()){const n=T.toLowerCase();t=t.filter(i=>i.title?.toLowerCase().includes(n)||i.category?.toLowerCase().includes(n))}const s=t.filter(n=>K.includes(n.id)),a=t.filter(n=>!K.includes(n.id));return[...s,...a]},[Oe,K,T]),w=l.useMemo(()=>{if(c.length===0)return null;let t=0,s=0;c.forEach(n=>{const i=parseFloat(n.price);i>0&&(t+=i*(n.attendees??0),s++)});const a=s>0?t/c.reduce((n,i)=>n+(parseFloat(i.price)>0?i.attendees??0:0),0):0;return{totalRevenue:t,paidEvents:s,avgTicket:Math.round(a*100)/100}},[c]),f=l.useMemo(()=>{if(c.length===0)return null;const t=c.reduce((o,p)=>o+(p.attendees??0),0),s=Math.round(t/c.length),a=c.reduce((o,p)=>o+(p.spots??0),0),n=a>0?Math.round(t/a*100):0,i=[...c].sort((o,p)=>(p.attendees??0)-(o.attendees??0))[0];return{avgPerEvent:s,overallFill:n,totalAttendees:t,bestEvent:i}},[c]),Fe=l.useMemo(()=>{const t=[],s=new Date;return S.forEach(a=>{const n=new Date(a.date),i=Math.ceil((n-s)/(1e3*60*60*24)),o=a.spots>0?a.attendees/a.spots*100:0;i<=3&&i>=0&&o<50?t.push({event:a,type:"low-fill",message:`"${a.title}" is only ${Math.round(o)}% filled and starts in ${i===0?"today":i===1?"tomorrow":`${i} days`}`}):o>=100&&t.push({event:a,type:"sold-out",message:`"${a.title}" is sold out â€” consider adding more spots`})}),t},[S]),ie=l.useMemo(()=>{const t=u?.eventsHosted??0,s=u?.totalAttendees??0;return[{label:"First Event",target:1,current:t,icon:J,unlocked:t>=1},{label:"5 Events",target:5,current:t,icon:as,unlocked:t>=5},{label:"10 Events",target:10,current:t,icon:Lt,unlocked:t>=10},{label:"50 Attendees",target:50,current:s,icon:_,unlocked:s>=50},{label:"100 Attendees",target:100,current:s,icon:We,unlocked:s>=100}]},[u]),yt=l.useCallback(()=>{const t=[`Organiser Analytics â€” ${d?.organiserDisplayName||d?.name}`,`Exported: ${new Date().toLocaleDateString()}`,"","PERFORMANCE",`Events Hosted: ${u?.eventsHosted??0}`,`Total Attendees: ${u?.totalAttendees??0}`,`Active Events: ${u?.activeEvents??0}`,`Community Members: ${u?.totalCommunityMembers??0}`,"","EVENTS",...c.map(i=>{const o=i.spots>0?Math.round(i.attendees/i.spots*100):0;return`  ${i.title} â€” ${i.attendees}/${i.spots} (${o}%) â€” ${i.date}`})];w?.paidEvents>0&&t.push("","REVENUE",`Est. Revenue: $${Math.round(w.totalRevenue)}`,`Paid Events: ${w.paidEvents}`,`Avg Ticket: $${w.avgTicket}`);const s=new Blob([t.join(`
`)],{type:"text/plain"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=`analytics-${new Date().toISOString().split("T")[0]}.txt`,n.click(),URL.revokeObjectURL(a),m("Analytics exported","success"),U(),De(!0),setTimeout(()=>De(!1),1500)},[d,u,c,w,m]),bt=l.useCallback(async()=>{if(!(ne||!W.trim())){Te(!0);try{await qe.createCommunity({name:W.trim(),description:pe.trim()||null,category:d?.organiserCategories?.[0]||"Social"}),Ct(),m("Community created!","success"),ue(""),he(""),ae(!1),L(!0)}catch(t){m(t.message||"Failed to create community","error")}finally{Te(!1)}}},[ne,W,pe,d,m,L]),gt=l.useCallback(t=>{ct(s=>{const a=s.includes(t)?s.filter(n=>n!==t):[...s,t];return localStorage.setItem("socialise_hidden_widgets",JSON.stringify(a)),a})},[]),D=l.useCallback(t=>!Me.includes(t),[Me]),He=[{id:"venue",label:"Confirm venue"},{id:"promo",label:"Share on socials"},{id:"remind",label:"Send reminders"},{id:"prep",label:"Prepare materials"}],Le=l.useCallback(t=>Ae[t]||He.map(s=>({...s,done:!1})),[Ae]),ft=l.useCallback((t,s)=>{xt(a=>{const n=a[t]||He.map(o=>({...o,done:!1})),i={...a,[t]:n.map(o=>o.id===s?{...o,done:!o.done}:o)};return localStorage.setItem("socialise_event_checklists",JSON.stringify(i)),i}),h()},[]),ve=l.useCallback(t=>{t.target.tagName==="INPUT"||t.target.tagName==="TEXTAREA"||((t.key==="n"||t.key==="N")&&g?.(),(t.key==="r"||t.key==="R")&&ge(),(t.key==="c"||t.key==="C")&&H(!0),(t.key==="e"||t.key==="E")&&N(!0))},[g,ge,H,N]);l.useEffect(()=>(document.addEventListener("keydown",ve),()=>document.removeEventListener("keydown",ve)),[ve]);const vt=()=>{const t=new Date().getHours();return t<12?"Good Morning":t<17?"Good Afternoon":"Good Evening"},jt=()=>{const t=u?.eventsHosted??0,s=u?.totalAttendees??0,a=u?.activeEvents??0;return t===0?"Ready to create your first event?":a>=3?`${a} events running â€” you're on fire`:s>=100?`${s} people reached and counting`:S.length>0?`${S.length} upcoming â€” keep the momentum`:t>=10?"A seasoned organiser â€” impressive":s>0?`${s} people connected through your events`:"Your community is waiting"},Ue=()=>{const t=u?.eventsHosted??0;return t>=20?{label:"Gold",color:"text-amber-500",bg:"bg-amber-500/10",border:"border-amber-500/20",icon:"ðŸ‘‘"}:t>=5?{label:"Silver",color:"text-slate-400",bg:"bg-slate-400/10",border:"border-slate-400/20",icon:"â­"}:{label:"Bronze",color:"text-orange-600",bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"ðŸŒ±"}};return nt?e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-5",children:[e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:0},className:"premium-card p-6 rounded-[24px]",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-[24px] skeleton"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-5 w-36 rounded-full skeleton"}),e.jsx("div",{className:"h-3 w-20 rounded-full skeleton"})]})]}),e.jsx("div",{className:"h-4 w-full rounded-full skeleton mb-2"}),e.jsx("div",{className:"h-4 w-3/4 rounded-full skeleton"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[...Array(4)].map((t,s)=>e.jsx(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+s*.05},className:"h-[76px] rounded-2xl skeleton"},s))}),e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx("div",{className:"h-3 w-32 rounded-full mb-3 skeleton"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[0,1,2,3].map(t=>e.jsxs(r.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.35+t*.06},className:"premium-card p-5 rounded-[24px]",children:[e.jsx("div",{className:"w-11 h-11 rounded-2xl skeleton mb-3"}),e.jsx("div",{className:"h-7 w-12 rounded-full skeleton mb-1"}),e.jsx("div",{className:"h-2.5 w-20 rounded-full skeleton"})]},t))})]}),e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"premium-card p-6 rounded-[24px]",children:[e.jsx("div",{className:"h-3 w-24 rounded-full mb-4 skeleton"}),[0,1,2].map(t=>e.jsxs("div",{className:"flex items-center gap-3 p-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl skeleton shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-32 rounded-full skeleton"}),e.jsx("div",{className:"h-3 w-20 rounded-full skeleton"})]})]},t))]})]}):e.jsxs(r.div,{variants:ls,initial:"hidden",animate:"show",className:"space-y-6",children:[e.jsxs(r.div,{variants:E,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-secondary/40 uppercase tracking-widest mb-0.5",children:"Dashboard"}),e.jsxs("h1",{className:"text-2xl font-black text-secondary tracking-tight text-balance",children:[vt(),e.jsx("span",{className:"text-accent",children:","})," ",(d?.organiserDisplayName||d?.name)?.split(" ")[0],e.jsx("span",{className:"text-accent",children:"."})]}),u&&e.jsx(r.p,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},className:"text-[11px] font-medium text-secondary/40 mt-0.5",children:jt()})]}),u&&(()=>{const t=Ue();return e.jsxs(r.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:15,stiffness:300,delay:.3},className:`inline-flex items-center gap-1 px-2.5 py-1 ${t.bg} rounded-full border ${t.border} ${t.color} text-[10px] font-black`,children:[t.icon," ",t.label]})})()]}),D("alerts")&&Fe.length>0&&e.jsx(r.div,{variants:E,className:"space-y-2",children:e.jsx(G,{children:Fe.filter((t,s)=>!pt.includes(s)).map((t,s)=>e.jsxs(r.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10,height:0,marginBottom:0,padding:0},transition:{delay:s*.1},className:`flex items-center gap-3 p-3 rounded-2xl border ${t.type==="low-fill"?"bg-amber-500/5 border-amber-500/20":"bg-green-500/5 border-green-500/20"}`,children:[e.jsx(r.div,{animate:t.type==="low-fill"?{scale:[1,1.08,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:`w-8 h-8 rounded-xl flex items-center justify-center shrink-0 ${t.type==="low-fill"?"bg-amber-500/10":"bg-green-500/10"}`,children:t.type==="low-fill"?e.jsx($t,{size:14,className:"text-amber-500","aria-hidden":"true"}):e.jsx(We,{size:14,className:"text-green-600","aria-hidden":"true"})}),e.jsx("p",{className:"text-[11px] font-medium text-secondary/70 flex-1 hyphens-auto",lang:"en",children:t.message}),e.jsx("button",{onClick:()=>{const a=q.find(n=>n.id===t.event.id)||t.event;h(),v(),F(a)},className:"text-[10px] font-bold text-primary hover:underline shrink-0 rounded transition-all focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:"View"}),e.jsx("button",{onClick:a=>{a.stopPropagation(),ht(n=>[...n,s])},className:"w-6 h-6 rounded-lg flex items-center justify-center text-secondary/30 hover:text-secondary/50 hover:bg-secondary/10 transition-colors shrink-0 focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none relative before:absolute before:inset-[-10px] before:content-['']","aria-label":"Dismiss alert",children:e.jsx(Ge,{size:12})})]},`alert-${s}`))})}),e.jsxs(r.div,{variants:E,className:"premium-card p-6 relative overflow-hidden",style:{contain:"layout style"},children:[e.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 bg-primary/5 rounded-full blur-3xl pointer-events-none","aria-hidden":"true"}),d?.organiserCoverPhoto&&e.jsx("div",{className:"-mx-6 -mt-6 mb-4 h-28 overflow-hidden rounded-t-[24px]",children:e.jsx("img",{src:d.organiserCoverPhoto,className:"w-full h-full object-cover",alt:"",loading:"lazy"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-[24px] overflow-hidden border-2 border-primary/20 shadow-lg shrink-0",children:e.jsx("img",{src:d?.avatar||Et,className:"w-full h-full object-cover",alt:"Organiser",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-xl font-black text-secondary truncate select-text tracking-tight",children:d?.organiserDisplayName||d?.name}),d?.organiserVerified&&e.jsx("span",{className:"text-[10px] font-black text-primary bg-primary/10 px-2 py-0.5 rounded-full border border-primary/20",children:"Verified"})]}),e.jsx("div",{className:"flex items-center gap-1.5 mt-1",children:(()=>{const t=Ue();return e.jsxs(r.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:15,stiffness:300},className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full ${t.bg} border ${t.border} text-[9px] font-black ${t.color} uppercase tracking-widest`,children:[e.jsx("span",{children:t.icon}),t.label]})})()})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsx("button",{onClick:()=>{h(),dt(!xe)},className:`w-9 h-9 rounded-xl flex items-center justify-center transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none ${xe?"bg-primary/10 text-primary":"bg-secondary/5 border border-secondary/10 text-secondary/60 hover:bg-secondary/10"}`,"aria-label":"Dashboard settings",children:e.jsx(Je,{size:14,"aria-hidden":"true"})}),e.jsx("button",{onClick:ge,disabled:Ee,className:"w-9 h-9 rounded-xl bg-secondary/5 border border-secondary/10 flex items-center justify-center hover:bg-secondary/10 transition-colors disabled:opacity-50 focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none","aria-label":"Refresh dashboard (R)",title:"Refresh (R)",children:e.jsx(St,{size:14,className:`text-secondary/60 ${Ee?"animate-spin":""}`,"aria-hidden":"true"})}),e.jsx("button",{onClick:()=>{h(),v(),N(!0)},className:"w-9 h-9 rounded-xl bg-secondary/5 border border-secondary/10 flex items-center justify-center hover:bg-secondary/10 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none","aria-label":"Edit organiser profile",children:e.jsx(Xe,{size:14,className:"text-secondary/60","aria-hidden":"true"})})]})]}),d?.organiserBio&&e.jsx("p",{className:"text-sm text-secondary/60 font-medium leading-relaxed mb-3 select-text line-clamp-4 hyphens-auto",lang:"en",children:d.organiserBio}),d?.organiserCategories?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:d.organiserCategories.map(t=>{const s=Ye.find(n=>n.id===t),a=s?.icon;return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-primary/5 rounded-full border border-primary/10 text-[11px] font-bold text-primary",children:[a&&e.jsx(a,{size:10,"aria-hidden":"true"}),s?.label||t]},t)})}),fe.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:fe.map((t,s)=>e.jsxs(r.span,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.2,delay:s*.05},whileHover:{scale:1.05,transition:{duration:.12}},whileTap:{scale:.95},className:"inline-flex items-center gap-1 px-2.5 py-1 bg-secondary/5 rounded-full border border-secondary/10 text-[11px] font-bold text-secondary/60 hover:border-primary/20 hover:text-primary cursor-pointer transition-colors",children:[e.jsx(_t,{size:10,"aria-hidden":"true"}),_e[t.key]]},t.key))}),u&&(()=>{const t=[S.length>0&&{icon:we,label:`${S.length} upcoming`,bg:"bg-green-500/5",border:"border-green-500/10",color:"text-green-600"},re.length>0&&{icon:$e,label:`${re.length} past`,bg:"bg-secondary/5",border:"border-secondary/10",color:"text-secondary/40"},P.length>0&&{icon:_,label:`${P.length} communities`,bg:"bg-secondary/5",border:"border-secondary/10",color:"text-secondary/40"},(u.totalAttendees??0)>0&&{icon:Y,label:`${u.totalAttendees} total attendees`,bg:"bg-primary/5",border:"border-primary/10",color:"text-primary"}].filter(Boolean);return t.length>0?e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:t.map((s,a)=>e.jsxs(r.span,{initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300,delay:.1+a*.06},className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg ${s.bg} border ${s.border} text-[10px] font-bold ${s.color}`,children:[e.jsx(s.icon,{size:10,"aria-hidden":"true"}),s.label]},s.label))}):null})(),e.jsx("button",{onClick:()=>{h(),b()},className:"text-[10px] font-black text-secondary/40 uppercase tracking-widest hover:text-secondary/60 hover:underline underline-offset-2 transition-colors rounded focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:"Switch to attendee view"})]}),e.jsx(G,{children:xe&&e.jsx(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"premium-card p-4 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r.div,{initial:{rotate:-30},animate:{rotate:0},transition:{type:"spring",damping:12,stiffness:200},children:e.jsx(Je,{size:12,className:"text-secondary/40","aria-hidden":"true"})}),e.jsx("h4",{className:"text-[10px] font-black text-secondary/40 uppercase tracking-widest",children:"Show/Hide Sections"})]}),[{id:"alerts",label:"Attention Alerts"},{id:"completeness",label:"Profile Completeness"},{id:"milestones",label:"Milestones"},{id:"activity",label:"Weekly Activity"},{id:"countdown",label:"Next Event Countdown"}].map((t,s)=>e.jsxs(r.button,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},transition:{duration:.15,delay:s*.04},onClick:()=>gt(t.id),className:"w-full flex items-center gap-2 p-2 rounded-xl hover:bg-secondary/5 transition-colors text-left focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx(r.div,{animate:{scale:D(t.id)?[1,1.15,1]:1},transition:{duration:.2},children:D(t.id)?e.jsx(Ze,{size:14,className:"text-primary shrink-0","aria-hidden":"true"}):e.jsx(Qe,{size:14,className:"text-secondary/30 shrink-0","aria-hidden":"true"})}),e.jsx("span",{className:`text-xs font-bold ${D(t.id)?"text-secondary":"text-secondary/40"}`,children:t.label})]},t.id))]})})}),D("completeness")&&(()=>{const t=[{label:"Display name",done:!!d?.organiserDisplayName?.trim()},{label:"Bio",done:!!d?.organiserBio?.trim()},{label:"Categories",done:(d?.organiserCategories?.length??0)>0},{label:"Social links",done:fe.length>0},{label:"First event",done:c.length>0}],s=t.filter(n=>n.done).length,a=Math.round(s/t.length*100);return a>=100?null:e.jsxs(r.div,{variants:E,className:"premium-card p-5 relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["Complete Your Profile",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("span",{className:"text-[10px] font-black text-primary bg-primary/10 px-2 py-0.5 rounded-full tabular-nums",children:[a,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-secondary/10 rounded-full overflow-hidden mb-3",children:e.jsx(r.div,{className:"h-full bg-gradient-to-r from-primary to-accent rounded-full",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.8,ease:"easeOut"}})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((n,i)=>e.jsxs(r.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3+i*.05},whileTap:n.done?{}:{scale:.95},className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-bold border transition-all ${n.done?"bg-green-500/10 border-green-500/20 text-green-600 line-through":"bg-secondary/5 border-secondary/10 text-secondary/50 cursor-pointer hover:border-primary/30 hover:bg-primary/5"}`,onClick:n.done?void 0:()=>{h(),N(!0)},children:[n.done?"âœ“":"â—‹"," ",n.label]},n.label))})]})})(),e.jsxs(r.div,{variants:E,className:"grid grid-cols-4 gap-2 isolate",children:[e.jsxs(r.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>{U(),v(),g?.()},className:"p-3 rounded-2xl bg-gradient-to-br from-primary to-accent text-white font-black text-sm flex flex-col items-center justify-center gap-1.5 shadow-lg relative overflow-hidden group focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none [backface-visibility:hidden]",children:[e.jsx("div",{className:"absolute inset-0 bg-white/0 group-hover:bg-white/10 transition-colors","aria-hidden":"true"}),e.jsx(V,{size:20,"aria-hidden":"true"}),e.jsx("span",{className:"text-[10px]",children:"New Event"}),e.jsx("kbd",{className:"hidden md:inline text-[8px] font-mono text-white/50 bg-white/10 px-1 rounded","aria-hidden":"true",children:"N"})]}),e.jsxs(r.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>{h(),v(),H(!0)},className:"p-3 rounded-2xl bg-secondary/5 border border-secondary/10 font-bold text-sm text-secondary flex flex-col items-center justify-center gap-1.5 hover:bg-secondary/10 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx(_,{size:20,"aria-hidden":"true"}),e.jsx("span",{className:"text-[10px]",children:"Community"}),e.jsx("kbd",{className:"hidden md:inline text-[8px] font-mono text-secondary/30 bg-secondary/5 px-1 rounded group-hover:text-secondary/50 transition-colors","aria-hidden":"true",children:"C"})]}),e.jsxs(r.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>{h(),v(),N(!0)},className:"p-3 rounded-2xl bg-secondary/5 border border-secondary/10 font-bold text-sm text-secondary flex flex-col items-center justify-center gap-1.5 hover:bg-secondary/10 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx(Xe,{size:20,"aria-hidden":"true"}),e.jsx("span",{className:"text-[10px]",children:"Edit"}),e.jsx("kbd",{className:"hidden md:inline text-[8px] font-mono text-secondary/30 bg-secondary/5 px-1 rounded group-hover:text-secondary/50 transition-colors","aria-hidden":"true",children:"E"})]}),e.jsxs(r.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>{h(),v();const t=`${window.location.origin}${window.location.pathname}?organiser=${d?.id}`;navigator.clipboard?.writeText(t).then(()=>m("Profile link copied!","success")).catch(()=>m("Could not copy link","error"))},className:"p-3 rounded-2xl bg-secondary/5 border border-secondary/10 font-bold text-sm text-secondary flex flex-col items-center justify-center gap-1.5 hover:bg-secondary/10 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx(Ot,{size:20,"aria-hidden":"true"}),e.jsx("span",{className:"text-[10px]",children:"Share"})]})]}),e.jsx(r.div,{variants:E,className:"flex gap-1 p-1 bg-secondary/5 rounded-2xl border border-secondary/10 relative isolate",children:[{key:"overview",label:"Overview"},{key:"analytics",label:"Analytics"}].map(t=>e.jsxs("button",{onClick:()=>{h(),B(t.key)},className:"flex-1 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-colors relative z-[1] focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",style:{color:y===t.key?"var(--primary)":void 0},children:[y===t.key&&e.jsx(r.div,{layoutId:"dashboard-tab-pill",className:"absolute inset-0 bg-paper rounded-xl shadow-sm will-change-transform",transition:{type:"spring",damping:30,stiffness:400},style:{zIndex:-1}}),e.jsx("span",{className:y===t.key?"":"text-secondary/40 hover:text-secondary/60",children:t.label})]},t.key))}),y==="analytics"?e.jsxs(r.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["Your Performance",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs(r.button,{onClick:yt,whileHover:{scale:1.05,transition:{duration:.12}},whileTap:{scale:.94},className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg border text-[10px] font-bold transition-colors ${ye?"bg-green-500/10 border-green-500/20 text-green-600":"bg-secondary/5 border-secondary/10 text-secondary/50 hover:text-secondary/70"}`,"aria-label":"Export analytics",children:[ye?e.jsx(zt,{size:10}):e.jsx(Gt,{size:10}),ye?"Done":"Export"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(O,{icon:J,value:u?.eventsHosted??0,label:"Events Hosted",color:"text-primary",bgColor:"bg-primary/10",borderColor:"border-primary/20"}),e.jsx(O,{icon:_,value:u?.totalAttendees??0,label:"Total Attendees",color:"text-secondary",bgColor:"bg-secondary/10",borderColor:"border-secondary/20"}),e.jsx(O,{icon:Y,value:u?.activeEvents??0,label:"Active Events",color:"text-accent",bgColor:"bg-accent/10",borderColor:"border-accent/20"}),e.jsx(O,{icon:ke,value:u?.totalCommunityMembers??0,label:"Community Members",color:"text-teal-600",bgColor:"bg-teal-500/10",borderColor:"border-teal-500/20"})]})]}),c.length>0&&(()=>{const t=[...c].sort((a,n)=>{const i=a.spots>0?a.attendees/a.spots:0;return(n.spots>0?n.attendees/n.spots:0)-i})[0],s=t?.spots>0?Math.round(t.attendees/t.spots*100):0;return e.jsxs("div",{className:"premium-card p-5 relative overflow-hidden",style:{contain:"layout style"},children:[e.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 bg-accent/5 rounded-full blur-2xl pointer-events-none","aria-hidden":"true"}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-accent/10 border border-accent/20 flex items-center justify-center",children:e.jsx(Y,{size:16,className:"text-accent","aria-hidden":"true"})}),e.jsx("h3",{className:"text-xs font-black text-accent uppercase tracking-widest",children:"Top Performer"})]}),e.jsxs(r.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:15,stiffness:300},className:`text-[10px] font-black px-2 py-0.5 rounded-full ${s>=80?"text-accent bg-accent/10 border border-accent/20":"text-primary bg-primary/10 border border-primary/20"}`,children:[s,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-secondary/10 shrink-0",children:t?.image&&e.jsx("img",{src:t.image,className:"w-full h-full object-cover",alt:t?.title||"Event",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-black text-secondary truncate",children:t?.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.jsxs("span",{className:"text-[11px] font-medium text-secondary/50",children:[t?.attendees,"/",t?.spots," spots"]}),t?.category&&e.jsx("span",{className:"text-[9px] font-bold text-primary/50 bg-primary/5 px-1.5 py-0.5 rounded-full",children:t.category})]}),e.jsx("div",{className:"w-full h-1.5 bg-secondary/10 rounded-full mt-2 overflow-hidden",children:e.jsx(r.div,{className:`h-full rounded-full ${s>=80?"bg-accent/60":"bg-primary/50"}`,initial:{width:0},animate:{width:`${Math.min(s,100)}%`},transition:{duration:.6,ease:"easeOut",delay:.2}})})]})]})]})})(),c.length>0&&(()=>{const t={};c.forEach(n=>{const i=n.category||"Other";t[i]=(t[i]||0)+1});const s=Object.entries(t).sort(([,n],[,i])=>i-n),a=c.length;return e.jsxs("div",{className:"premium-card p-6",style:{contain:"layout style"},children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest mb-4",children:["Event Categories",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsx("div",{className:"space-y-3",children:s.map(([n,i],o)=>{const p=Math.round(i/a*100),k=Ye.find(x=>x.id===n)?.icon,z=o===0&&s.length>1;return e.jsxs(r.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},whileHover:{x:3,transition:{duration:.12}},transition:{duration:.25,delay:o*.06},className:"flex items-center gap-3 cursor-default",children:[e.jsx(r.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20,stiffness:300,delay:.1+o*.06},className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 border ${z?"bg-accent/10 border-accent/20":"bg-primary/5 border-primary/10"}`,children:k?e.jsx(k,{size:14,className:z?"text-accent":"text-primary"}):e.jsx(J,{size:14,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between mb-0.5",children:[e.jsx("span",{className:"text-[11px] font-bold text-secondary",children:n}),e.jsxs("span",{className:"text-[10px] font-black text-secondary/50 tabular-nums",children:[i," event",i!==1?"s":""," (",p,"%)"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx(r.div,{className:`h-full rounded-full ${z?"bg-accent/60":"bg-primary/60"}`,initial:{width:0},animate:{width:`${p}%`},transition:{duration:.5,ease:"easeOut",delay:.1+o*.06}})})]})]},n)})})]})})(),w&&w.paidEvents>0&&(()=>{const t=c.length>0?Math.round(w.paidEvents/c.length*100):0;return e.jsxs("div",{className:"premium-card p-6 relative overflow-hidden",style:{contain:"layout style"},children:[e.jsx("div",{className:"absolute -left-6 -bottom-6 w-24 h-24 bg-green-500/5 rounded-full blur-2xl pointer-events-none","aria-hidden":"true"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-green-500/10 border border-green-500/20 flex items-center justify-center",children:e.jsx(qt,{size:16,className:"text-green-600","aria-hidden":"true"})}),e.jsx("h3",{className:"text-xs font-black text-green-600 uppercase tracking-widest",children:"Revenue Insights"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),e.jsxs("span",{className:"text-[9px] font-bold text-green-600/50",children:[t,"% paid"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs(r.p,{className:"text-xl font-black text-secondary tabular-nums",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300},children:["$",Math.round(w.totalRevenue).toLocaleString()]}),e.jsx("p",{className:"text-[9px] font-bold text-secondary/40 uppercase tracking-widest mt-0.5",children:"Est. Revenue"})]}),e.jsxs("div",{children:[e.jsx(r.p,{className:"text-xl font-black text-secondary tabular-nums",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300,delay:.1},children:w.paidEvents}),e.jsx("p",{className:"text-[9px] font-bold text-secondary/40 uppercase tracking-widest mt-0.5",children:"Paid Events"})]}),e.jsxs("div",{children:[e.jsxs(r.p,{className:"text-xl font-black text-secondary tabular-nums",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300,delay:.2},children:["$",w.avgTicket]}),e.jsx("p",{className:"text-[9px] font-bold text-secondary/40 uppercase tracking-widest mt-0.5",children:"Avg Ticket"})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-secondary/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-[9px] font-bold text-secondary/40",children:"Paid vs Free"}),e.jsxs("span",{className:"text-[9px] font-bold text-secondary/40",children:[w.paidEvents," paid Â· ",c.length-w.paidEvents," free"]})]}),e.jsx("div",{className:"w-full h-2 bg-secondary/10 rounded-full overflow-hidden flex",children:e.jsx(r.div,{className:"h-full bg-green-500/60 rounded-l-full",initial:{width:0},animate:{width:`${t}%`},transition:{duration:.6,ease:"easeOut"}})})]})]})})(),f&&(()=>{const t=Math.max(...c.map(s=>s.spots??0),1);return e.jsxs("div",{className:"premium-card p-6 relative overflow-hidden",style:{contain:"layout style"},children:[e.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 bg-primary/5 rounded-full blur-2xl pointer-events-none","aria-hidden":"true"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary/10 border border-primary/20 flex items-center justify-center",children:e.jsx(Mt,{size:16,className:"text-primary","aria-hidden":"true"})}),e.jsx("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:"Audience Insights"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{size:14,className:"text-secondary/40","aria-hidden":"true"}),e.jsx("span",{className:"text-[11px] font-bold text-secondary",children:"Avg. per event"})]}),e.jsx("span",{className:"text-sm font-black text-primary",children:f.avgPerEvent})]}),e.jsx("div",{className:"w-full h-1.5 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx(r.div,{className:"h-full bg-primary/50 rounded-full",initial:{width:0},animate:{width:`${Math.min(f.avgPerEvent/t*100,100)}%`},transition:{duration:.5,ease:"easeOut"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{size:14,className:"text-secondary/40","aria-hidden":"true"}),e.jsx("span",{className:"text-[11px] font-bold text-secondary",children:"Overall fill rate"})]}),e.jsxs("span",{className:`text-sm font-black ${f.overallFill>=70?"text-accent":"text-primary"}`,children:[f.overallFill,"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx(r.div,{className:`h-full rounded-full ${f.overallFill>=70?"bg-accent/60":"bg-primary/50"}`,initial:{width:0},animate:{width:`${f.overallFill}%`},transition:{duration:.5,ease:"easeOut",delay:.1}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{size:14,className:"text-secondary/40","aria-hidden":"true"}),e.jsx("span",{className:"text-[11px] font-bold text-secondary",children:"Total reach"})]}),e.jsxs("span",{className:"text-sm font-black text-secondary",children:[f.totalAttendees," people"]})]}),f.bestEvent&&e.jsxs("button",{onClick:()=>{const s=q.find(a=>a.id===f.bestEvent.id)||f.bestEvent;h(),v(),F(s)},className:"w-full pt-3 mt-3 border-t border-secondary/10 text-left hover:bg-secondary/5 -mx-1 px-1 rounded-xl transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx("p",{className:"text-[9px] font-black text-accent uppercase tracking-widest mb-1.5",children:"Most Popular Event"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden bg-secondary/10 shrink-0",children:f.bestEvent.image&&e.jsx("img",{src:f.bestEvent.image,className:"w-full h-full object-cover",alt:f.bestEvent.title||"Event",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold text-secondary truncate",children:f.bestEvent.title}),e.jsxs("p",{className:"text-[10px] text-secondary/40",children:[f.bestEvent.attendees," attendees"]})]}),e.jsx(Ce,{size:12,className:"text-secondary/20 shrink-0","aria-hidden":"true"})]})]})]})]})})(),c.length>0?e.jsxs("div",{className:"premium-card p-6",style:{contain:"layout style"},children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest mb-4",children:["Event Fill Rates",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsx("div",{className:"space-y-3",children:c.slice(0,6).map((t,s)=>{const a=t.spots>0?Math.round(t.attendees/t.spots*100):0;return e.jsxs(r.div,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},whileHover:{x:3,transition:{duration:.12}},transition:{duration:.2,delay:s*.05},className:"cursor-default",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[11px] font-bold text-secondary truncate max-w-[55%]",children:t.title}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsxs("span",{className:"text-[9px] font-medium text-secondary/35 tabular-nums",children:[t.attendees,"/",t.spots]}),e.jsxs("span",{className:`text-[11px] font-black tabular-nums ${a>=80?"text-accent":a>=50?"text-primary":"text-secondary/50"}`,children:[a,"%"]})]})]}),e.jsx("div",{className:"w-full h-2 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx(r.div,{className:`h-full rounded-full ${a>=80?"bg-accent":a>=50?"bg-primary":"bg-secondary/30"}`,initial:{width:0},animate:{width:`${Math.min(a,100)}%`},transition:{duration:.6,ease:"easeOut",delay:.1+s*.05}})})]},t.id)})}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-secondary/10 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-bold text-secondary/40",children:"Average fill rate"}),e.jsxs("span",{className:"text-sm font-black text-primary tabular-nums",children:[Math.round(c.reduce((t,s)=>t+(s.spots>0?s.attendees/s.spots*100:0),0)/Math.max(c.length,1)),"%"]})]})]}):e.jsxs("div",{className:"premium-card p-8 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-8 -top-8 w-32 h-32 bg-accent/5 rounded-full blur-3xl pointer-events-none","aria-hidden":"true"}),e.jsx("div",{className:"absolute -left-8 -bottom-8 w-32 h-32 bg-primary/5 rounded-full blur-3xl pointer-events-none","aria-hidden":"true"}),e.jsx(r.div,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},transition:{type:"spring",damping:15,stiffness:200},className:"w-20 h-20 mx-auto mb-4 rounded-[24px] bg-gradient-to-br from-accent/10 to-primary/10 border border-accent/10 flex items-center justify-center",children:e.jsx(At,{size:32,className:"text-accent/50","aria-hidden":"true"})}),e.jsx("h4",{className:"text-base font-black text-secondary mb-1 text-balance",children:"Your Analytics Await"}),e.jsx("p",{className:"text-[11px] text-secondary/40 max-w-[240px] mx-auto mb-2 text-balance",children:"Create your first event and watch your dashboard come to life with real-time insights"}),e.jsx("div",{className:"flex justify-center gap-4 mb-5",children:["Fill rates","Revenue","Audience"].map((t,s)=>e.jsx(r.span,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.3+s*.1},className:"text-[9px] font-bold text-primary/50 bg-primary/5 px-2 py-0.5 rounded-full",children:t},t))}),e.jsxs("button",{onClick:()=>{U(),v(),g?.()},className:"inline-flex items-center gap-1.5 px-5 py-2.5 rounded-xl bg-gradient-to-r from-primary to-accent text-white text-xs font-bold active:scale-95 transition-transform shadow-lg focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx(V,{size:14}),"Create Your First Event"]})]})]},"analytics"):e.jsxs(e.Fragment,{children:[D("countdown")&&C&&(()=>{const t=C.spots>0?Math.round(C.attendees/C.spots*100):0;return e.jsxs(r.div,{variants:E,className:"premium-card p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -top-4 w-20 h-20 bg-green-500/5 rounded-full blur-2xl pointer-events-none","aria-hidden":"true"}),C.countdown==="Starting soon"&&e.jsx(r.div,{className:"absolute inset-0 rounded-[24px] border-2 border-green-500/20",animate:{opacity:[.3,.7,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl overflow-hidden bg-secondary/10 shrink-0 relative",children:C.image&&e.jsx("img",{src:C.image,className:"w-full h-full object-cover",alt:C.title||"Next event",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[9px] font-black text-green-600 uppercase tracking-widest mb-0.5",children:"Next Event"}),e.jsx("p",{className:"text-sm font-bold text-secondary truncate",children:C.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:`text-[10px] font-bold ${t>=80?"text-accent":"text-primary"}`,children:[C.attendees,"/",C.spots," spots"]}),e.jsx("div",{className:"flex-1 max-w-[80px] h-1 bg-secondary/10 rounded-full overflow-hidden",children:e.jsx(r.div,{className:`h-full rounded-full ${t>=100?"bg-red-500":t>=80?"bg-accent":"bg-primary/60"}`,initial:{width:0},animate:{width:`${Math.min(t,100)}%`},transition:{duration:.5,ease:"easeOut",delay:.3}})})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx(r.p,{className:"text-lg font-black text-primary leading-tight tabular-nums",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:15,stiffness:300,delay:.2},children:C.countdown}),e.jsx("p",{className:"text-[9px] font-bold text-secondary/40 uppercase tracking-widest",children:"until start"})]})]})]})})(),D("activity")&&c.length>0&&(()=>{const t=R.days.reduce((a,n)=>a+n.attendees,0),s=R.days.reduce((a,n)=>a+n.events,0);return e.jsxs(r.div,{variants:E,className:"premium-card p-5 relative overflow-hidden",style:{contain:"layout style"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary/10 border border-primary/20 flex items-center justify-center",children:e.jsx(Rt,{size:16,className:"text-primary","aria-hidden":"true"})}),e.jsx("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:"This Week"})]}),e.jsxs("span",{className:"text-[9px] font-bold text-secondary/35 tabular-nums",children:[s," events Â· ",t," attendees"]})]}),e.jsx("div",{className:"flex items-end justify-between gap-1 h-20",children:R.days.map((a,n)=>{const o=n===R.days.length-1?"bg-accent":a.events>0?"bg-primary/60":"bg-secondary/20";return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 relative group cursor-default",children:[a.attendees>0&&e.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:e.jsx("span",{className:"text-[8px] font-black text-primary bg-primary/10 px-1.5 py-0.5 rounded-full whitespace-nowrap tabular-nums",children:a.attendees})}),e.jsx(r.div,{className:`w-full rounded-t-lg ${o} group-hover:brightness-110 transition-[filter] duration-150`,style:{minHeight:2},initial:{height:0},animate:{height:`${Math.max(a.attendees/R.maxAttendees*100,5)}%`},whileHover:{scaleX:1.15,transition:{duration:.12}},transition:{duration:.4,ease:"easeOut",delay:n*.05},title:`${a.attendees} attendees, ${a.events} event${a.events!==1?"s":""}`})]},n)})}),e.jsx("div",{className:"flex justify-between mt-1.5",children:R.days.map((a,n)=>{const i=n===R.days.length-1;return e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("span",{className:`text-[8px] font-bold uppercase ${i?"text-accent":"text-secondary/30"}`,children:a.label}),a.events>0&&e.jsx("div",{className:`w-1.5 h-1.5 rounded-full mx-auto mt-0.5 ${i?"bg-accent":"bg-green-500/50"}`})]},n)})})]})})(),D("milestones")&&(()=>{const t=ie.filter(s=>s.unlocked).length;return e.jsxs(r.div,{variants:E,className:"premium-card p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["Milestones",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("span",{className:`text-[9px] font-bold tabular-nums ${t===ie.length?"text-accent":"text-secondary/35"}`,children:[t,"/",ie.length," unlocked"]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1 snap-x snap-mandatory touch-pan-x scroll-pl-0.5",style:{maskImage:"linear-gradient(to right, black 85%, transparent 100%)",WebkitMaskImage:"linear-gradient(to right, black 85%, transparent 100%)",overscrollBehaviorX:"contain"},children:ie.map((s,a)=>{const n=Math.min(Math.round(s.current/s.target*100),100);return e.jsxs(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{y:-2,transition:{duration:.15}},whileTap:{scale:.97},transition:{duration:.25,delay:a*.06},className:`shrink-0 w-24 p-3 rounded-2xl border text-center transition-all relative overflow-hidden cursor-default snap-start snap-always ${s.unlocked?"bg-accent/5 border-accent/20":"bg-secondary/5 border-secondary/10"}`,children:[s.unlocked&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent/5 to-transparent"}),e.jsx(r.div,{animate:s.unlocked?{scale:[1,1.1,1]}:{},transition:{duration:.6,delay:.3+a*.06},className:`w-10 h-10 mx-auto rounded-xl flex items-center justify-center mb-2 relative ${s.unlocked?"bg-accent/10":"bg-secondary/10"}`,children:e.jsx(s.icon,{size:18,className:s.unlocked?"text-accent":"text-secondary/30","aria-hidden":"true"})}),e.jsx("p",{className:`text-[9px] font-black uppercase tracking-widest mb-1 ${s.unlocked?"text-accent":"text-secondary/40"}`,children:s.label}),!s.unlocked&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full h-1 bg-secondary/10 rounded-full overflow-hidden mb-0.5",children:e.jsx(r.div,{className:"h-full bg-primary/40 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.4,delay:.1+a*.06}})}),e.jsxs("p",{className:"text-[7px] font-medium text-secondary/30",children:[s.current,"/",s.target]})]}),s.unlocked&&e.jsx("p",{className:"text-[8px] font-bold text-accent relative",children:"Unlocked"})]},s.label)})})]})})(),e.jsxs(r.div,{variants:E,children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest mb-3",children:["Your Performance",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(O,{icon:J,value:u?.eventsHosted??0,label:"Events Hosted",color:"text-primary",bgColor:"bg-primary/10",borderColor:"border-primary/20"}),e.jsx(O,{icon:_,value:u?.totalAttendees??0,label:"Total Attendees",color:"text-secondary",bgColor:"bg-secondary/10",borderColor:"border-secondary/20"}),e.jsx(O,{icon:Y,value:u?.activeEvents??0,label:"Active Events",color:"text-accent",bgColor:"bg-accent/10",borderColor:"border-accent/20"}),e.jsx(O,{icon:ke,value:u?.totalCommunityMembers??0,label:"Community Members",color:"text-teal-600",bgColor:"bg-teal-500/10",borderColor:"border-teal-500/20"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(r.div,{variants:E,className:"premium-card p-6",style:{contain:"layout style",contentVisibility:"auto",containIntrinsicSize:"auto 400px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["My Events",e.jsx("span",{className:"text-accent",children:"."})]}),e.jsxs("span",{className:"text-[9px] font-bold text-secondary/30 uppercase tracking-widest tabular-nums",children:[c.length," total"]})]}),c.length>0&&e.jsx("div",{className:"flex gap-2 mb-4 isolate",children:[{key:"upcoming",label:"Upcoming",icon:we,count:S.length},{key:"past",label:"Past",icon:$e,count:re.length}].map(t=>e.jsxs("button",{onClick:()=>{h(),it(t.key)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-[11px] font-bold transition-colors relative focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[A===t.key&&e.jsx(r.div,{layoutId:"event-filter-pill",className:"absolute inset-0 bg-primary/10 border border-primary/20 rounded-xl will-change-transform",transition:{type:"spring",damping:30,stiffness:400},style:{zIndex:0}}),e.jsxs("span",{className:`relative z-[1] flex items-center gap-1.5 ${A===t.key?"text-primary":"text-secondary/50"}`,children:[e.jsx(t.icon,{size:12}),t.label,e.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full font-black ${A===t.key?"bg-primary/20 text-primary":"bg-secondary/10 text-secondary/40"}`,children:t.count})]})]},t.key))}),c.length>3&&e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Tt,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-secondary/30","aria-hidden":"true"}),e.jsx("input",{type:"text",value:T,onChange:t=>ze(t.target.value),placeholder:"Search events...",className:`w-full pl-9 py-2 rounded-xl bg-secondary/5 border border-secondary/10 text-xs text-[var(--text)] placeholder:text-secondary/30 outline-none focus:border-primary/30 focus:ring-2 focus:ring-primary/10 hover:border-secondary/20 transition-all ${T?"pr-8":"pr-3"}`}),T&&e.jsx("button",{onClick:()=>ze(""),className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-secondary/10 flex items-center justify-center hover:bg-secondary/20 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none before:absolute before:inset-[-12px] before:content-['']","aria-label":"Clear search",children:e.jsx(Ge,{size:10,className:"text-secondary/50"})}),T.trim()&&e.jsxs("p",{className:"text-[9px] font-bold text-secondary/30 mt-1",children:[I.length," result",I.length!==1?"s":""]})]}),c.length===0?e.jsxs("div",{className:"text-center py-8 relative",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:15,stiffness:200},className:"w-16 h-16 mx-auto mb-3 rounded-[20px] bg-gradient-to-br from-primary/10 to-accent/10 border border-primary/10 flex items-center justify-center",children:e.jsx(J,{size:28,className:"text-primary/40","aria-hidden":"true"})}),e.jsx("p",{className:"text-sm text-secondary/50 font-bold mb-1 text-balance",children:"No events yet"}),e.jsx("p",{className:"text-[11px] text-secondary/40 mb-4 max-w-[200px] mx-auto text-balance",children:"Create your first event and start building your audience"}),e.jsxs("button",{onClick:()=>{U(),v(),g?.()},className:"inline-flex items-center gap-1.5 px-4 py-2.5 rounded-xl bg-primary/10 border border-primary/20 text-primary text-xs font-bold hover:bg-primary/20 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx(V,{size:14}),"Create Event"]})]}):I.length===0?e.jsx("div",{className:"text-center py-6",children:e.jsxs(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20,stiffness:300},children:[e.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-secondary/5 border border-secondary/10 flex items-center justify-center",children:A==="upcoming"?e.jsx(we,{size:18,className:"text-secondary/25"}):e.jsx($e,{size:18,className:"text-secondary/25"})}),e.jsxs("p",{className:"text-sm text-secondary/40 font-medium",children:["No ",A," events"]}),T.trim()&&e.jsx("p",{className:"text-[10px] text-secondary/40 mt-1",children:"Try a different search term"})]})}):e.jsx(G,{mode:"wait",children:e.jsxs(r.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:"space-y-3",children:[(te?I:I.slice(0,5)).map((t,s)=>{const a=t.spots>0?Math.round(t.attendees/t.spots*100):0,n=q.find(x=>x.id===t.id)||t,i=os(t.date),o=i==="Today",p=a>=100,$=a>=80&&!p,k=K.includes(t.id),z=de[t.id];return e.jsxs(r.div,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},whileHover:{x:2,transition:{duration:.12}},transition:{duration:.2,delay:s*.04},className:"space-y-1",children:[e.jsxs("button",{onClick:()=>{h(),v(),F(n)},className:`w-full flex items-center gap-3 p-3 rounded-2xl border hover:bg-secondary/10 transition-colors text-left group/event focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none [backface-visibility:hidden] ${k?"bg-accent/5 border-accent/20":"bg-secondary/5 border-secondary/10"}`,children:[e.jsxs("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-secondary/10 shrink-0 relative group-hover/event:ring-2 group-hover/event:ring-primary/10 transition-shadow",children:[t.image&&e.jsx("img",{src:t.image,className:"w-full h-full object-cover",alt:t.title||"Event",loading:"lazy"}),o&&e.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-paper animate-pulse"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[k&&e.jsx(Ke,{size:10,className:"text-accent shrink-0","aria-hidden":"true"}),e.jsx("p",{className:"text-sm font-bold text-secondary truncate",children:t.title}),p&&e.jsx("span",{className:"shrink-0 text-[8px] font-black text-red-600 bg-red-500/10 px-1.5 py-0.5 rounded-full border border-red-500/20 uppercase",children:"Sold Out"}),$&&e.jsx("span",{className:"shrink-0 text-[8px] font-black text-accent bg-accent/10 px-1.5 py-0.5 rounded-full border border-accent/20 uppercase",children:"Almost Full"}),o&&e.jsx("span",{className:"shrink-0 text-[8px] font-black text-green-600 bg-green-500/10 px-1.5 py-0.5 rounded-full border border-green-500/20 uppercase",children:"Live"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap gap-y-1",children:[e.jsx("span",{className:`text-[10px] font-medium ${i==="Today"?"text-green-600 font-bold":i==="Tomorrow"?"text-primary font-bold":"text-secondary/40"}`,children:i}),t.time&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[10px] text-secondary/20",children:"Â·"}),e.jsx("span",{className:"text-[10px] text-secondary/40 font-medium",children:t.time})]}),e.jsx("span",{className:"text-[10px] text-secondary/20",children:"Â·"}),e.jsxs("span",{className:`text-[10px] font-bold tabular-nums ${a>=80?"text-accent":"text-primary"}`,children:[e.jsx(_,{size:10,className:"inline mr-0.5"}),t.attendees,"/",t.spots]}),parseFloat(t.price)>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[10px] text-secondary/20",children:"Â·"}),e.jsxs("span",{className:"text-[10px] font-bold text-green-600",children:["$",t.price]})]})]}),e.jsx("div",{className:"w-full h-1 bg-secondary/10 rounded-full mt-1.5 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${p?"bg-red-500":a>=80?"bg-accent":"bg-primary/60"}`,style:{width:`${Math.min(a,100)}%`}})})]}),e.jsxs("div",{className:"flex flex-col gap-1 shrink-0",children:[e.jsx("div",{role:"button",tabIndex:0,onClick:x=>{x.stopPropagation(),Pe(t.id)},onKeyDown:x=>{x.key==="Enter"&&(x.stopPropagation(),Pe(t.id))},className:`w-7 h-7 rounded-lg flex items-center justify-center transition-colors cursor-pointer focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none relative before:absolute before:inset-[-8px] before:content-[''] ${k?"bg-accent/10 text-accent":"text-secondary/20 hover:text-secondary/40"}`,"aria-label":k?"Unpin event":"Pin event",children:e.jsx(Ke,{size:12,"aria-hidden":"true"})}),e.jsx("div",{role:"button",tabIndex:0,onClick:x=>{x.stopPropagation(),Re(t)},onKeyDown:x=>{x.key==="Enter"&&(x.stopPropagation(),Re(t))},className:"w-7 h-7 rounded-lg flex items-center justify-center text-secondary/20 hover:text-secondary/40 transition-colors cursor-pointer focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none relative before:absolute before:inset-[-8px] before:content-['']","aria-label":"Duplicate event",children:e.jsx(Vt,{size:12,"aria-hidden":"true"})}),e.jsx("div",{role:"button",tabIndex:0,onClick:x=>{x.stopPropagation(),Z(X===t.id?null:t.id),ee(de[t.id]||"")},onKeyDown:x=>{x.key==="Enter"&&(x.stopPropagation(),Z(X===t.id?null:t.id),ee(de[t.id]||""))},className:`w-7 h-7 rounded-lg flex items-center justify-center transition-colors cursor-pointer focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none relative before:absolute before:inset-[-8px] before:content-[''] ${z?"bg-primary/10 text-primary":"text-secondary/20 hover:text-secondary/40"}`,"aria-label":z?"Edit note":"Add note",children:e.jsx(et,{size:12,"aria-hidden":"true"})})]}),e.jsx(Ce,{size:16,className:"text-secondary/30 shrink-0 group-hover/event:translate-x-0.5 group-hover/event:text-secondary/50 transition-all","aria-hidden":"true"})]}),z&&X!==t.id&&e.jsxs("div",{className:"ml-3 flex items-start gap-2 p-2 rounded-xl bg-primary/5 border border-primary/10",children:[e.jsx(et,{size:10,className:"text-primary/40 shrink-0 mt-0.5","aria-hidden":"true"}),e.jsx("p",{className:"text-[10px] text-secondary/60 italic leading-relaxed select-text hyphens-auto",lang:"en",children:z})]}),X===t.id&&e.jsxs("div",{className:"ml-3 flex gap-2 items-center",onClick:x=>x.stopPropagation(),children:[e.jsx("input",{type:"text",value:Q,onChange:x=>ee(x.target.value),onKeyDown:x=>{x.key==="Enter"&&Ie(t.id),x.key==="Escape"&&Z(null)},placeholder:"Add a quick note...",className:"flex-1 text-xs px-3 py-2 rounded-xl bg-secondary/5 border border-secondary/10 text-[var(--text)] placeholder:text-secondary/30 outline-none focus:border-primary/30 focus:ring-2 focus:ring-primary/10 hover:border-secondary/20 transition-all",autoFocus:!0}),e.jsx("button",{onClick:()=>Ie(t.id),className:"px-3 py-2 rounded-xl bg-primary/10 text-primary text-[10px] font-bold hover:bg-primary/20 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:"Save"})]}),A==="upcoming"&&(()=>{const x=Le(t.id),je=x.filter(M=>M.done).length,Ve=je===x.length;return e.jsxs("div",{className:"ml-3",children:[e.jsxs("button",{onClick:M=>{M.stopPropagation(),mt(me===t.id?null:t.id),h()},className:"flex items-center gap-1.5 text-[10px] font-bold text-secondary/40 hover:text-secondary/60 transition-colors rounded-lg px-1 -mx-1 focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx(Dt,{size:10,className:`transition-transform ${me===t.id?"rotate-180":""}`,"aria-hidden":"true"}),e.jsx("span",{children:"Pre-event checklist"}),e.jsxs("span",{className:`tabular-nums ${Ve?"text-green-600":""}`,children:["(",je,"/",x.length,")"]}),e.jsx("div",{className:"w-12 h-1 bg-secondary/10 rounded-full overflow-hidden ml-0.5",children:e.jsx("div",{className:`h-full rounded-full transition-all ${Ve?"bg-green-500":"bg-primary/50"}`,style:{width:`${x.length>0?je/x.length*100:0}%`}})})]}),e.jsx(G,{children:me===t.id&&e.jsx(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden mt-1.5 space-y-1",children:Le(t.id).map(M=>e.jsxs("button",{onClick:Nt=>{Nt.stopPropagation(),ft(t.id,M.id)},className:"w-full flex items-center gap-2 p-1.5 rounded-lg hover:bg-secondary/5 transition-colors text-left focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[M.done?e.jsx(Ze,{size:12,className:"text-green-600 shrink-0"}):e.jsx(Qe,{size:12,className:"text-secondary/30 shrink-0"}),e.jsx("span",{className:`text-[11px] font-medium ${M.done?"text-secondary/40 line-through":"text-secondary/70"}`,children:M.label})]},M.id))})})]})})()]},t.id)}),I.length>5&&e.jsx(r.button,{onClick:()=>{h(),ut(!te)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-2.5 text-[10px] text-center text-primary/70 font-bold hover:text-primary hover:bg-primary/5 rounded-xl transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:e.jsx(r.span,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.15},children:te?"Show less":`View all ${I.length} events`},te?"less":"more")})]},A)})]}),e.jsxs(r.div,{variants:E,className:"premium-card p-6",style:{contain:"layout style",contentVisibility:"auto",containIntrinsicSize:"auto 350px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["My Communities",e.jsx("span",{className:"text-accent",children:"."})]}),P.length>0&&(()=>{const t=P.reduce((s,a)=>s+(a.members??0),0);return t>0?e.jsxs("p",{className:"text-[9px] font-medium text-secondary/35 mt-0.5 tabular-nums",children:[t," total members"]}):null})()]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-[9px] font-bold text-secondary/30 uppercase tracking-widest tabular-nums",children:[P.length," communities"]}),e.jsx("button",{onClick:()=>{h(),ae(!se)},className:`w-7 h-7 rounded-lg flex items-center justify-center transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none relative before:absolute before:inset-[-8px] before:content-[''] ${se?"bg-primary/10 text-primary":"bg-secondary/5 border border-secondary/10 text-secondary/40 hover:text-secondary/60"}`,"aria-label":"Create community",children:e.jsx(V,{size:14})})]})]}),e.jsx(G,{children:se&&e.jsx(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden mb-4",children:e.jsxs("div",{className:"p-4 rounded-2xl bg-primary/5 border border-primary/10 space-y-3",style:{contain:"layout style"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:12,stiffness:200},className:"w-6 h-6 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(V,{size:12,className:"text-primary"})}),e.jsx("p",{className:"text-[10px] font-black text-primary uppercase tracking-widest",children:"Quick Create"})]}),e.jsx("input",{type:"text",value:W,onChange:t=>ue(t.target.value),placeholder:"Community name...",className:"w-full px-3 py-2.5 rounded-xl bg-paper border border-secondary/20 text-sm font-medium text-[var(--text)] placeholder:text-secondary/30 outline-none focus:border-primary focus:ring-2 focus:ring-primary/10 hover:border-secondary/30 transition-all",maxLength:50}),e.jsx("input",{type:"text",value:pe,onChange:t=>he(t.target.value),placeholder:"Short description (optional)...",className:"w-full px-3 py-2 rounded-xl bg-paper border border-secondary/20 text-xs font-medium text-[var(--text)] placeholder:text-secondary/30 outline-none focus:border-primary focus:ring-2 focus:ring-primary/10 hover:border-secondary/30 transition-all",maxLength:200}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:bt,disabled:!W.trim()||ne,className:"flex-1 py-2.5 rounded-xl bg-gradient-to-r from-primary to-accent text-white text-xs font-black uppercase tracking-widest disabled:opacity-50 transition-all active:scale-[0.98] focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:ne?"Creating...":"Create"}),e.jsx("button",{onClick:()=>{ae(!1),ue(""),he("")},className:"px-4 py-2.5 rounded-xl bg-secondary/5 border border-secondary/10 text-xs font-bold text-secondary/50 hover:text-secondary/70 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:"Cancel"})]})]})})}),P.length===0&&!se?e.jsxs("div",{className:"text-center py-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-8 -top-8 w-28 h-28 bg-secondary/5 rounded-full blur-3xl pointer-events-none","aria-hidden":"true"}),e.jsx(r.div,{initial:{scale:0,rotate:-15},animate:{scale:1,rotate:0},transition:{type:"spring",damping:15,stiffness:200},className:"w-16 h-16 mx-auto mb-3 rounded-[20px] bg-gradient-to-br from-secondary/5 to-primary/5 border border-secondary/10 flex items-center justify-center",children:e.jsx(_,{size:28,className:"text-secondary/30"})}),e.jsx("p",{className:"text-sm text-secondary/50 font-bold mb-1",children:"No communities yet"}),e.jsx("p",{className:"text-[11px] text-secondary/40 mb-3 max-w-[200px] mx-auto text-balance",children:"Build your tribe by creating a community around your events"}),e.jsx("div",{className:"flex justify-center gap-2 mb-4",children:["Engage","Grow","Connect"].map((t,s)=>e.jsx(r.span,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.3+s*.08},className:"text-[9px] font-bold text-secondary/30 bg-secondary/5 px-2 py-0.5 rounded-full",children:t},t))}),e.jsxs("button",{onClick:()=>{h(),ae(!0)},className:"inline-flex items-center gap-1 px-4 py-2 rounded-xl bg-primary/10 border border-primary/20 text-primary text-xs font-bold hover:bg-primary/20 transition-colors focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none",children:[e.jsx(V,{size:14}),"Create Community"]})]}):e.jsx("div",{className:"space-y-3",children:P.map((t,s)=>{const a=ce.find(p=>p.id===t.id)||t,n=t.members??0,i=n>=100?"Large":n>=20?"Growing":n>0?"Starting":"New",o=n>=100?"text-accent":n>=20?"text-green-600":"text-secondary/40";return e.jsxs(r.button,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},whileHover:{y:-2,transition:{duration:.15}},whileTap:{scale:.98},transition:{duration:.2,delay:s*.05},onClick:()=>{h(),v(),oe(a)},className:"w-full flex items-center gap-3 p-3 rounded-2xl bg-secondary/5 border border-secondary/10 hover:bg-secondary/10 transition-colors text-left group/comm focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:outline-none [backface-visibility:hidden]",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden bg-secondary/10 shrink-0 flex items-center justify-center text-lg group-hover/comm:ring-2 group-hover/comm:ring-primary/10 transition-shadow",children:t.avatar||"ðŸ˜ï¸"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-secondary truncate",children:t.name}),t.description&&e.jsx("p",{className:"text-[10px] text-secondary/40 truncate mt-0.5",children:t.description}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 flex-wrap gap-y-0.5",children:[e.jsxs("span",{className:"text-[10px] text-secondary/40 font-medium tabular-nums",children:[n," members"]}),e.jsxs("span",{className:`inline-flex items-center gap-0.5 text-[9px] font-bold ${o} bg-current/10 px-1.5 py-0.5 rounded-full transition-colors duration-200`,children:[e.jsx(Ft,{size:8,"aria-hidden":"true"}),i]}),t.category&&e.jsx("span",{className:"text-[9px] font-bold text-primary/50 bg-primary/5 px-1.5 py-0.5 rounded-full",children:t.category})]}),e.jsx("div",{className:"w-full h-1 bg-secondary/10 rounded-full mt-1.5 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${n>=100?"bg-accent":n>=20?"bg-green-500/60":"bg-primary/40"}`,style:{width:`${Math.min(n/100*100,100)}%`}})})]}),e.jsx(Ce,{size:16,className:"text-secondary/30 shrink-0 group-hover/comm:translate-x-0.5 group-hover/comm:text-secondary/50 transition-all","aria-hidden":"true"})]},t.id)})})]})]})]})]})}export{us as default};
